---
import { SITE } from "src/config";
import Layout from "@layouts/Layout.astro";
import Main from "@layouts/Main.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import Card from "@components/Card";
import { ListPagination } from "@components/ListPagination";
import slugify from "@utils/slugify";
import type { MarkdownInstance } from "astro";
import type { Frontmatter } from "src/types";
import { BlogList } from "@components/BlogList";

export interface Props {
  pageNum: number;
  totalPages: number;
  posts: MarkdownInstance<Frontmatter>[];
  allPosts: MarkdownInstance<Frontmatter>[];
}

const { pageNum, totalPages, posts, allPosts } = Astro.props;

const prev = pageNum > 1 ? "" : "disabled";
const next = pageNum < totalPages ? "" : "disabled";
---

<Main pageTitle="Blogs" pageDesc="All the articles I've posted.">
  <div>
    <header class="flex items-start">
      <h1
        class="w-full text-4xl font-bold leading-10 pr-8 text-text-lvl-1 lg:w-1/3"
      >
        Blogs
      </h1>
      <p class="text-sm text-stone-800">
        各种奇思妙想的实验。展示我个人开发的项目和实验，将创意转化为现实。我将分享小巧工具、有趣游戏和前沿技术实验，激发您的灵感。在这个创意实验场，探索软件开发领域的可能性。了解开发过程、技术选择和背后动机，您的反馈和意见对我很重要。感谢支持！在这里探索各种奇思妙想的实验，共同成长。
      </p>
    </header>
  </div>
  <div class="mt-20">
    <BlogList allPosts={allPosts} client:load />
  </div>
</Main>

<!-- {
    totalPages > 1 && (
      <nav class="pagination-wrapper" aria-label="Pagination">
        <ListPagination
          client:load
          prevPage={
            prev === "disabled"
              ? ""
              : `/blogs${pageNum - 1 !== 1 ? "/" + (pageNum - 1) : ""}`
          }
          nextPage={next === "disabled" ? "" : `/blogs/${pageNum + 1}`}
        />
      </nav>
    )
  } -->
