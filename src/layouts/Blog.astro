---
import getUniqueTags from "@utils/getUniqueTags";
import Layout from "./Layout.astro";
import BlogSection from "@components/BlogSection.svelte";
import type { CollectionEntry } from "astro:content";
import getUniqueCategories from "@utils/getUniqueCategories";

export interface Props {
  pageNum: number;
  totalPages: number;
  posts: CollectionEntry<"blogs" | "notion">[];
  allPosts: CollectionEntry<"blogs" | "notion">[];
}

const { allPosts } = Astro.props;

let tags = getUniqueTags(allPosts);
let categories = getUniqueCategories(allPosts);
---

<Layout>
  <BlogSection
    posts={allPosts}
    tags={tags}
    categories={categories}
    client:load
  />
</Layout>
