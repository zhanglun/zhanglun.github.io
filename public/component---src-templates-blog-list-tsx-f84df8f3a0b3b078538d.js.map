{"version":3,"file":"component---src-templates-blog-list-tsx-f84df8f3a0b3b078538d.js","mappings":"qLAGO,SAASA,EAAT,GAA+C,IAAxBC,EAAuB,EAAvBA,KACtBC,EAAQD,EAAKE,YAAYD,OAASD,EAAKG,OAAOC,KAC9CF,EAAcF,EAAKE,aAAe,GAExC,OACEG,EAAAA,cAAAA,KAAAA,KACEA,EAAAA,cAAAA,UAAAA,CACEC,UAAU,oBACVC,WAAS,EACTC,SAAS,6BAETH,EAAAA,cAACI,EAAAA,KAAD,CACEC,GAAIV,EAAKG,OAAOC,KAChBO,SAAS,MACTL,UAAU,sBAEVD,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,uBACbD,EAAAA,cAAAA,OAAAA,CAAMC,UAAU,yBACbJ,EAAYU,YAEfP,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,8BACbD,EAAAA,cAAAA,MAAAA,CACEQ,MAAM,6BACNC,QAAQ,YACRC,MAAM,KACNC,OAAO,KACPC,KAAK,QAELZ,EAAAA,cAAAA,OAAAA,CACEa,OAAO,eACPC,YAAY,MACZC,EAAE,+BAKVf,EAAAA,cAAAA,OAAAA,CAAMM,SAAS,WAAWL,UAAU,sBACjCL,M,aCfN,SAASoB,EAAT,GAAiC,IAAVC,EAAS,EAATA,MACtBC,GAAiBC,EAAAA,EAAAA,QAAO,MAYxBC,EAlCY,SAACC,EAASC,EAAcC,EAA4BC,QAAa,IAAzCD,IAAAA,GAAqB,QAAoB,IAAbC,IAAAA,EAAM,IAC5E,IAAQC,GAAYN,EAAAA,EAAAA,QAAO,CAAEE,GAAAA,EAAIK,MAAO,OAAhCD,QAKR,OAJAE,EAAAA,EAAAA,YAAU,WACRF,EAAQJ,GAAKA,IACZ,CAACA,KAEGO,EAAAA,EAAAA,cAAY,WAAc,IAAD,uBAATC,EAAS,yBAATA,EAAS,GAAAC,UAAAA,GAKI,IAAD,EAJ7BL,EAAQC,OACVK,aAAaN,EAAQC,OAGnBH,IAAcE,EAAQC,QACxB,EAAAD,EAAQJ,IAAGW,KAAX,SAAgBC,GAAhB,OAAyBJ,IAG3BJ,EAAQC,MAAQQ,YAAW,WAAO,IAAD,GAC/B,EAAAT,EAAQJ,IAAGW,KAAX,SAAgBC,GAAhB,OAAyBJ,MACxBP,KACFE,GAgBiBW,EALC,WACnB,IAN0BC,EAAmBC,EAMvCC,EAAUC,OAAOC,QANGJ,EAOPlB,EAAeO,QAPWY,EAOFC,EANhCF,EACRK,MAAMC,UAATC,gBAAqCN,EAArC,cAQ4C,IAmB9C,OAjBAV,EAAAA,EAAAA,YAAU,WACR,GAAKT,EAUL,OAAO,WACL0B,SAASC,KAAKJ,MAAM9B,OAAS,KAC7B4B,OAAOO,oBAAoB,SAAU1B,MAEtC,IAGDpB,EAAAA,cAAAA,KAAAA,CAAIC,UAAU,eAAe8C,IAAK7B,GAC/BD,EAAM+B,KAAI,SAACrD,GAAD,OAAUK,EAAAA,cAACN,EAAD,CAAaC,KAAMA,EAAMsD,IAAKtD,EAAKuD,W,mKCvDlDC,E,oBCHDC,EAAS,8BACTC,EAAO,4BACPC,EAAQ,6BDWZ,SAASC,EAAYC,GAC1B,MAAkDA,EAA1CC,KAAAA,OAAR,MAAe,GAAf,IAAkDD,EAA/BE,OAAAA,OAAnB,MAA4B,EAA5B,IAAkDF,EAAnBG,MAAAA,OAA/B,MAAuC,OAAvC,EAEMlB,EAAQ,CACZC,UAAU,UAAWgB,EAAZ,OACThD,MAAU+C,EAAL,KACL9C,OAAW8C,EAAL,MAGR,OACEzD,EAAAA,cAAAA,MAAAA,CAAKC,UAAc2D,EAAL,IAAsBA,EAAOD,IACzC3D,EAAAA,cAAAA,MAAAA,CACEQ,MAAM,6BACNC,QAAQ,YACRC,MAAM,KACNC,OAAO,KACPC,KAAK,OACL6B,MAAOA,GAEPzC,EAAAA,cAAAA,OAAAA,CAAMa,OAAO,eAAeC,YAAY,MAAMC,EAAE,+BA7BxD,SAAYoC,GAAAA,EAAAA,KAAAA,OAAAA,EAAAA,MAAAA,QAAZ,CAAYA,IAAAA,EAAAA,KEHL,IACIU,EAAiB,sCCSrB,SAASC,EAAeN,GAC7B,MAKIA,EAJFO,SAAAA,OADF,MACa,GADb,IAKIP,EAHFQ,cAAAA,OAFF,MAEkB,gBAFlB,IAKIR,EAFFS,SAAAA,OAHF,MAGa,GAHb,IAKIT,EADFU,cAAAA,OAJF,MAIkB,YAJlB,EAOA,GAAkCC,EAAAA,EAAAA,UAAShB,EAAqBG,OAAzDc,EAAP,KAAkBC,EAAlB,KACA,GAAkCF,EAAAA,EAAAA,UAAShB,EAAqBG,OAAzDgB,EAAP,KAAkBC,EAAlB,KAwCA,OACEvE,EAAAA,cAAAA,MAAAA,CAAKC,UD5De,mCCsBhB8D,EAEA/D,EAAAA,cAACI,EAAAA,KAAD,CACEH,UAAW2D,EACXvD,GAAI0D,EACJS,IAAI,OACJC,YAAa,kBAAMJ,EAAalB,EAAqBE,OACrDqB,WAAY,kBAAML,EAAalB,EAAqBG,SAEpDtD,EAAAA,cAACuD,EAAD,CAAaE,KAAM,GAAIC,OAAQ,GAAIC,MAAOS,IACzC,IACDpE,EAAAA,cAAAA,OAAAA,CAAMC,UD9BgB,2CC8BuB+D,IAI5C,KAyBLhE,EAAAA,cAAAA,OAAAA,MArBEiE,EAEAjE,EAAAA,cAACI,EAAAA,KAAD,CACEH,UAAW2D,EACXvD,GAAI4D,EACJO,IAAI,OACJC,YAAa,kBAAMF,EAAapB,EAAqBE,OACrDqB,WAAY,kBAAMH,EAAapB,EAAqBG,SAEpDtD,EAAAA,cAAAA,OAAAA,CAAMC,UDhDgB,2CCgDuBiE,GAC5C,IACDlE,EAAAA,cAACuD,EAAD,CAAaE,KAAM,GAAIC,QAAS,GAAIC,MAAOW,KAI1C,Q,6GClCX,MApBA,YAEI,IADFK,EACC,EADDA,SAAUC,EACT,EADSA,SAAUhF,EACnB,EADmBA,MAAOiF,EAC1B,EAD0BA,KAIrBC,GAHL,EADgCC,YAGnB,MACKJ,EAASK,UAE5B,OACEhF,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,iBAAiB,oBAAmB6E,GACjD9E,EAAAA,cAACiF,EAAAA,EAAD,CACErF,MAAOA,EACPiF,KAAMA,IAER7E,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,gBACZ2E,K,UCqBT,MA/BA,YAAoD,IAAD,MAA/BM,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,YAAaR,EAAY,EAAZA,SAC7BS,EAA0BD,EAA1BC,YACFC,EAA0B,IAAhBD,EACVE,EAASF,IAFmBD,EAAbI,SAGfxB,EAAWqB,EAAc,GAAM,EAAI,IAAxBA,WAAyCA,EAAc,GAAGI,WACrEvB,EAAQ,WAAcmB,EAAc,GAAGI,WAEvCC,GAAY,UAAAP,EAAKQ,KAAKC,oBAAV,eAAwB/F,QAAS,QAC7CqB,EAAQiE,EAAKU,kBAAkBC,MAC/BC,GAAW,UAAAZ,EAAKQ,KAAKC,oBAAV,eAAwBd,OAAQ,GAC3CE,GAAc,UAAAG,EAAKQ,KAAKC,oBAAV,eAAwBZ,cAAe,GAE3D,OACE/E,EAAAA,cAAC+F,EAAD,CACEpB,SAAUA,EACV/E,MAAO6F,EACPV,YAAaA,EACbF,KAAMiB,GAEN9F,EAAAA,cAACgG,EAAAA,EAAD,CAAKpG,MAAM,cACXI,EAAAA,cAACgB,EAAAA,EAAD,CAAaC,MAAOA,IACpBjB,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,cACbD,EAAAA,cAAC8D,EAAAA,EAAD,CACEC,SAAUsB,EAAU,GAAKtB,EACzBE,SAAUqB,EAAS,GAAKrB","sources":["webpack://zhanglun.github.io/./src/components/Article/ArticleItem.tsx","webpack://zhanglun.github.io/./src/components/Article/ArticleList.tsx","webpack://zhanglun.github.io/./src/components/CircleArrow/index.tsx","webpack://zhanglun.github.io/./src/components/CircleArrow/index.module.css","webpack://zhanglun.github.io/./src/components/ListPagination/index.module.css","webpack://zhanglun.github.io/./src/components/ListPagination/index.tsx","webpack://zhanglun.github.io/./src/components/BlogLayout.tsx","webpack://zhanglun.github.io/./src/templates/blog-list.tsx"],"sourcesContent":["import React from 'react';\nimport { Link } from 'gatsby';\n\nexport function ArticleItem({ post }: { post: any }) {\n  const title = post.frontmatter.title || post.fields.slug;\n  const frontmatter = post.frontmatter || {};\n\n  return (\n    <li>\n      <article\n        className=\"article-list-item\"\n        itemScope\n        itemType=\"http://schema.org/Article\"\n      >\n        <Link\n          to={post.fields.slug}\n          itemProp=\"url\"\n          className=\"article-item-title\"\n        >\n          <div className=\"article-item-header\">\n            <span className=\"article-item-category\">\n              {frontmatter.categories}\n            </span>\n            <div className=\"article-item-header__arrow\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 24 24\"\n                width=\"24\"\n                height=\"24\"\n                fill=\"none\"\n              >\n                <path\n                  stroke=\"currentColor\"\n                  strokeWidth=\"1.4\"\n                  d=\"M12 3v17M19 13l-7 7-7-7\"\n                />\n              </svg>\n            </div>\n          </div>\n          <span itemProp=\"headline\" className=\"article-item__text\">\n            {title}\n          </span>\n        </Link>\n        {/* <small>{post.frontmatter.date}</small> */}\n        {/* <section> */}\n        {/*  <p */}\n        {/*    dangerouslySetInnerHTML={{ */}\n        {/*      __html: post.frontmatter.description || post.excerpt, */}\n        {/*    }} */}\n        {/*    itemProp=\"description\" */}\n        {/*  /> */}\n        {/* </section> */}\n        {/* <footer> */}\n        {/*  <Link to={post.fields.slug} itemProp=\"url\" className=\"read-more\"> */}\n        {/*    READ MORE */}\n        {/*  </Link> */}\n        {/* </footer> */}\n      </article>\n    </li>\n  );\n}\n","import React, { useCallback, useEffect, useRef } from 'react';\nimport { ArticleItem } from './ArticleItem';\nimport './index.css';\n\nconst useDebounce = (fn: any, wait: number, immediate: boolean = false, dep = []) => {\n  const { current } = useRef({ fn, timer: null });\n  useEffect(() => {\n    current.fn = fn;\n  }, [fn]);\n\n  return useCallback((...args) => {\n    if (current.timer) {\n      clearTimeout(current.timer);\n    }\n\n    if (immediate && !current.timer) {\n      current.fn.call(this, ...args);\n    }\n\n    current.timer = setTimeout(() => {\n      current.fn.call(this, ...args);\n    }, wait);\n  }, dep);\n};\n\nexport function ArticleList({ posts }) {\n  const articleListRef = useRef(null);\n\n  const setTransformOffset = (elem: HTMLElement, offset: number) => {\n    const el = elem;\n    el.style.transform = `translate3d(-${offset}px, 0, 0)`;\n  };\n\n  const handleScroll = () => {\n    const yOffset = window.scrollY;\n    setTransformOffset(articleListRef.current, yOffset);\n  };\n\n  const delayScroll = useDebounce(handleScroll, 50);\n\n  useEffect(() => {\n    if (!articleListRef) {\n      return;\n    }\n\n    // const height = articleListRef.current.offsetWidth;\n    // document.body.style.height = `${height}px`;\n\n    // window.addEventListener('scroll', delayScroll);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      document.body.style.height = null;\n      window.removeEventListener('scroll', delayScroll);\n    };\n  }, []);\n\n  return (\n    <ul className=\"article-list\" ref={articleListRef}>\n      {posts.map((post) => <ArticleItem post={post} key={post.id} />)}\n    </ul>\n  );\n}\n","/* eslint-disable react/require-default-props */\nimport React from 'react';\nimport * as styles from './index.module.css';\n\nexport enum CircleArrowThemeEnum {\n  'dark'='dark',\n  'light'='light'\n}\nexport interface CircleArrowProps {\n  size?: number,\n  rotate?: number,\n  theme?: CircleArrowThemeEnum,\n}\n\nexport function CircleArrow(props: CircleArrowProps) {\n  const { size = 24, rotate = 0, theme = 'dark' } = props;\n\n  const style = {\n    transform: `rotate(${rotate}deg)`,\n    width: `${size}px`,\n    height: `${size}px`,\n  };\n\n  return (\n    <div className={`${styles.circle} ${styles[theme]}`}>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n        width=\"24\"\n        height=\"24\"\n        fill=\"none\"\n        style={style}\n      >\n        <path stroke=\"currentColor\" strokeWidth=\"1.4\" d=\"M12 3v17M19 13l-7 7-7-7\" />\n      </svg>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport var circle = \"index-module--circle--E91Mj\";\nexport var dark = \"index-module--dark--aAIf4\";\nexport var light = \"index-module--light--x7OKG\";","// extracted by mini-css-extract-plugin\nexport var pagination = \"index-module--pagination--iWu7S\";\nexport var paginationItem = \"index-module--paginationItem--ZgXus\";\nexport var paginationItemNext = \"index-module--paginationItemNext--nbZSQ\";\nexport var paginationItemPrev = \"index-module--paginationItemPrev--WtmXw\";","import { Link } from 'gatsby';\nimport React, { useState } from 'react';\nimport { CircleArrow, CircleArrowThemeEnum } from '../CircleArrow';\nimport * as styles from './index.module.css';\n\nexport interface ListPaginationProps {\n  prevPage?: string,\n  prevPageTitle?: string,\n  nextPage?: string,\n  nextPageTitle?: string,\n}\nexport function ListPagination(props: ListPaginationProps) {\n  const {\n    prevPage = '',\n    prevPageTitle = 'Previous Page',\n    nextPage = '',\n    nextPageTitle = 'Next Page',\n  } = props;\n\n  const [prevTheme, setPrevTheme] = useState(CircleArrowThemeEnum.light);\n  const [nextTheme, setNextTheme] = useState(CircleArrowThemeEnum.light);\n\n  const renderPrevItem = () => {\n    if (prevPage) {\n      return (\n        <Link\n          className={styles.paginationItem}\n          to={prevPage}\n          rel=\"prev\"\n          onMouseOver={() => setPrevTheme(CircleArrowThemeEnum.dark)}\n          onMouseOut={() => setPrevTheme(CircleArrowThemeEnum.light)}\n        >\n          <CircleArrow size={14} rotate={90} theme={prevTheme} />\n          {' '}\n          <span className={styles.paginationItemPrev}>{prevPageTitle}</span>\n        </Link>\n      );\n    }\n    return null;\n  };\n\n  const renderNextItem = () => {\n    if (nextPage) {\n      return (\n        <Link\n          className={styles.paginationItem}\n          to={nextPage}\n          rel=\"next\"\n          onMouseOver={() => setNextTheme(CircleArrowThemeEnum.dark)}\n          onMouseOut={() => setNextTheme(CircleArrowThemeEnum.light)}\n        >\n          <span className={styles.paginationItemNext}>{nextPageTitle}</span>\n          {' '}\n          <CircleArrow size={14} rotate={-90} theme={nextTheme} />\n        </Link>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className={styles.pagination}>\n      {renderPrevItem()}\n      <span />\n      {renderNextItem()}\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { SideMenu } from './SideMenu';\n\nfunction Layout({\n  location, children, title, menu, description,\n}) {\n  // @ts-ignore\n  const rootPath = `${__PATH_PREFIX__}/`;\n  const isRootPath = location.pathname === rootPath;\n\n  return (\n    <div className=\"global-wrapper\" data-is-root-path={isRootPath}>\n      <SideMenu\n        title={title}\n        menu={menu}\n      />\n      <div className=\"article-main\">\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default Layout;\n","import React from 'react';\nimport { Link, graphql } from 'gatsby';\nimport Seo from '../components/seo';\nimport { ArticleList } from '../components/Article/ArticleList';\nimport BlogLayout from '../components/BlogLayout';\nimport { ListPagination } from '../components/ListPagination';\n\nfunction BlogList({ data, pageContext, location }) {\n  const { currentPage, numPages } = pageContext;\n  const isFirst = currentPage === 1;\n  const isLast = currentPage === numPages;\n  const prevPage = currentPage - 1 === 1 ? '/' : `/blogs/${(currentPage - 1).toString()}`;\n  const nextPage = `/blogs/${(currentPage + 1).toString()}`;\n\n  const siteTitle = data.site.siteMetadata?.title || 'Title';\n  const posts = data.allMarkdownRemark.nodes;\n  const siteMenu = data.site.siteMetadata?.menu || [];\n  const description = data.site.siteMetadata?.description || '';\n\n  return (\n    <BlogLayout\n      location={location}\n      title={siteTitle}\n      description={description}\n      menu={siteMenu}\n    >\n      <Seo title=\"All posts\" />\n      <ArticleList posts={posts} />\n      <div className=\"pagination\">\n        <ListPagination\n          prevPage={isFirst ? '' : prevPage}\n          nextPage={isLast ? '' : nextPage}\n        />\n      </div>\n    </BlogLayout>\n  );\n}\n\nexport default BlogList;\n\nexport const BlogListQuery = graphql`\n  query blogPageQuery($skip: Int!, $limit: Int!) {\n    site {\n      siteMetadata {\n        title\n        description\n        menu {\n          id\n          name\n          url\n        }\n      }\n    }\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n      limit: $limit\n      skip: $skip\n    ) {\n      nodes {\n        fields {\n          slug\n        }\n        frontmatter {\n          date(formatString: \"YYYY-MM-DD\")\n          title\n          status\n          cover\n          categories\n          tags\n        }\n      }\n    }\n  }\n`;\n"],"names":["ArticleItem","post","title","frontmatter","fields","slug","React","className","itemScope","itemType","Link","to","itemProp","categories","xmlns","viewBox","width","height","fill","stroke","strokeWidth","d","ArticleList","posts","articleListRef","useRef","delayScroll","fn","wait","immediate","dep","current","timer","useEffect","useCallback","args","arguments","clearTimeout","call","_this","setTimeout","useDebounce","elem","offset","yOffset","window","scrollY","style","transform","el","document","body","removeEventListener","ref","map","key","id","CircleArrowThemeEnum","circle","dark","light","CircleArrow","props","size","rotate","theme","styles","paginationItem","ListPagination","prevPage","prevPageTitle","nextPage","nextPageTitle","useState","prevTheme","setPrevTheme","nextTheme","setNextTheme","rel","onMouseOver","onMouseOut","location","children","menu","isRootPath","description","pathname","SideMenu","data","pageContext","currentPage","isFirst","isLast","numPages","toString","siteTitle","site","siteMetadata","allMarkdownRemark","nodes","siteMenu","BlogLayout","Seo"],"sourceRoot":""}