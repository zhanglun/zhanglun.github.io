{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blogs/Style Dictionary 和 Design Token 的实战/",
    "result": {"data":{"site":{"siteMetadata":{"title":"张小伦的网络日志","description":"欢迎来到张小伦的网络日志 \n\t\t一个记录生活，分享心得的博客","menu":[{"id":"home","name":"首页","url":"/"},{"id":"blog","name":"博文","url":"/blogs"},{"id":"category","name":"分类","url":"/categories"},{"id":"archive","name":"归档","url":"/archives"},{"id":"lab","name":"实验室","url":"/labs"},{"id":"about","name":"关于我","url":"/about"}]}},"markdownRemark":{"id":"57caaa42-5250-53fa-964d-6732d90411ae","html":"<p class=\"para\">在<a href=\"https://zhanglun.xyz/blogs/%E4%BD%BF%E7%94%A8%20Style%20Dictionary%20%E7%AE%A1%E7%90%86%20Design%20Token/\" class=\"link-underline\">使用 Style Dictionary 管理 Design Token</a>中简单介绍了Style Dictionary及其使用，本文将介绍Style Dictionary在团队中的使用经验。</p>\n<h2 class=\"heading subtitle heading\" id=\"区分Token-的类型和层级\" style=\"position:relative;\"><a href=\"#%E5%8C%BA%E5%88%86Token-%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%B1%82%E7%BA%A7\" aria-label=\"区分Token 的类型和层级 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>区分Token 的类型和层级</h2>\n<p class=\"para\">分类的工作由设计师主导。 Figma Tokens 插件默认提供的面板中，将token分为一下几类：Color 颜色、Shadow 投影、Typography 字体样式、Size 尺寸、Space 间距、Border Radius (半径) 描边圆角、Border Width (宽度) 描边宽度、 Opacity (混浊) 透明度等。参考W3C的草案并结合团队实际情况，按照属性维度，最终得出如下分类，作为全局Token使用。</p>\n<p class=\"para\"><img src=\"images/d602d4de7f411223.svg?X-Amz-Algorithm=AWS4-HMAC-SHA256&#x26;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&#x26;X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221218%2Fus-west-2%2Fs3%2Faws4_request&#x26;X-Amz-Date=20221218T051951Z&#x26;X-Amz-Expires=3600&#x26;X-Amz-Signature=1c37c1ef37f05c11d16fc4d55f440e343714e08528a14b293c831249eee59a5e&#x26;X-Amz-SignedHeaders=host&#x26;x-id=GetObject\" alt=\"\"></p>\n<deckgo-highlight-code language=\"scss\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">$blue-400 = #2680EB;\n$border-style-dashed = &quot;dash&quot;;\n$sizing-14 = &quot;14px&quot;;</code>\n        </deckgo-highlight-code>\n<p class=\"para\">一般来说，会将Token按照在此基础上，输出更加语义化的组件Token，方便使用。我们将其分为三个层级。</p>\n<p class=\"para\"><strong>全局Token</strong>：保存设计中最原始的属性值，比如<code>#ff0</code> 、<code>2px</code>、<code>50%</code>。它们的名称能直接体现出其保存的值和代表的意义，比如<code>palette-brand-blue-500</code>、<code>spacing-8</code>、<code>border-radius-6</code>。</p>\n<p class=\"para\"><strong>语义Token</strong>：引用了全局token，它们的值一定是另外一个token的引用。它们的名字能直接体现出其使用的场景，比如<code>color-background</code>。</p>\n<p class=\"para\"><strong>组件Token</strong>：引用语义Token，在特定组件中使用。在开发组件时，只需要关心组件token。其背后的引用关系可以随时调整，对组件开发来说是无感知的。比如按钮的颜组件Token是<code>button-color</code> ，依次引用的语义Token <code>color-background</code>和全局Token <code>palette-brand-blue-500</code>。二者的变化不会影响组件的开发。</p>\n<h2 class=\"heading subtitle heading\" id=\"约定-Token-命名规范\" style=\"position:relative;\"><a href=\"#%E7%BA%A6%E5%AE%9A-Token-%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83\" aria-label=\"约定 Token 命名规范 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>约定 Token 命名规范</h2>\n<p class=\"para\">当层级关系明确之后，按照组件划分，依次定义出组件需要使用的Token。在经历了多次探讨和实验之后，最后得出了一个团队认可的命名规范。</p>\n<deckgo-highlight-code language=\"scss\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">{component}-{category}-{type}-{status}-{state}-{property}</code>\n        </deckgo-highlight-code>\n<p class=\"para\">就以颜色token为例：</p>\n<ul>\n<li>\n<p class=\"para\">全局token提供了一系列来自基础色板的颜色token，比如<code>palette-brand-blue-500</code>。</p>\n</li>\n<li>\n<p class=\"para\">在它的基础上使用别名<code>semantic-brand-color-default</code>让token语义化。</p>\n</li>\n<li>\n<p class=\"para\">主按钮的背景色的Token是 <code>button-color-primary-normal-default-background</code>，次级按钮的背景色的Token是 <code>button-color-secondary-normal-default-background</code> 。</p>\n</li>\n</ul>\n<p class=\"para\">最后设计师交付给开发的Token文件通过git托管在内部仓库中，其包含的内容如下图所示</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 452px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/94657f549751b7d3ca02809d00897acd/fcb94/e07e18155ff44ffb.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 89.36170212765957%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAUlEQVQ4y41U246iQBTk///KOA+KoKMiq4yCF1RQGcVGuYxYkzqrZF9W7KQCYud0VZ06rZVliTRNBff7HZfLBUmSVN+ILMvAfe9AA4Dz+Vyh0WhA13W02230+310Oh3M53NukwPrlpblOaIoErieB8/zsFytsPJ9rNdr+Os1TnEsLK9pWgvtcr0i+v7GIYowHA5hdrvCUO908EmGhoEgDGWzShIktOQFKslxHAujyWQC13Wx2Wzg+74wpq9c5f0usl9BCp5OJxyPRykwnU6lyGKxEO94AA/kut1u9U0hzd1+L5JnnidSR7aNoWXBME1sg0DknpXCOUlqoeVFgfjRYTbD+fqS5pAp38mee1iUDWRzXkEkq2uGXXzBH3uEXq+HwWCAVqslsaGfhmFIHt9ZWp7nfxmqRKSTHb2kVDJmo2jH2wzp4eGRQ2s0QlvX0Ww20e120fz4kG/cw3jRR0bnFaou00N2OggCiQw7zUP4myiKQmLz9uhxfhkTjprjOAJ6Sabj8Ri0RrJYlq9zSCnhbof94YDpbAbbtjFzXYnNZruVDqdZViu1kvycZcr15nMZu4njwLIsOYQFuaf4+ZFnWjPTlWSlFJbLZRUbFmRx0zRF/tOKuhtH48kyBUrJJcGijAujw+aEYVg92TxGg6z/B+15g6hHNCjpXzyl8J3/13n4C/gmWPpa/M+hAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"e07e18155ff44ffb\"\n        title=\"e07e18155ff44ffb\"\n        src=\"/static/94657f549751b7d3ca02809d00897acd/fcb94/e07e18155ff44ffb.png\"\n        srcset=\"/static/94657f549751b7d3ca02809d00897acd/4dcb9/e07e18155ff44ffb.png 188w,\n/static/94657f549751b7d3ca02809d00897acd/5ff7e/e07e18155ff44ffb.png 375w,\n/static/94657f549751b7d3ca02809d00897acd/fcb94/e07e18155ff44ffb.png 452w\"\n        sizes=\"(max-width: 452px) 100vw, 452px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 class=\"heading subtitle heading\" id=\"将Token转换成样式代码\" style=\"position:relative;\"><a href=\"#%E5%B0%86Token%E8%BD%AC%E6%8D%A2%E6%88%90%E6%A0%B7%E5%BC%8F%E4%BB%A3%E7%A0%81\" aria-label=\"将Token转换成样式代码 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>将Token转换成样式代码</h2>\n<p class=\"para\">项目使用Sass作为CSS的预处理器，Token转换成Sass变量，就能在项目中使用了。但是我选择使用CSS自定义属性，在Sass文件中无缝使用的同时，方便在浏览器调试。因为CSS自定义属性没有编译过程。Style dictionary 内置了对应的 <a href=\"https://amzn.github.io/style-dictionary/#/formats?id=cssvariables\" class=\"link-underline\">format配置</a>，使用非常方便。</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// index.js\nconst StyleDictionary = require(&#39;style-dictionary&#39;)\nconst config = {\n  &#39;source&#39;: [&#39;./tokens/**/*.json&#39;],\n  &#39;platforms&#39;: {\n    &#39;css&#39;: {\n      &#39;transformGroup&#39;: &#39;css&#39;,\n      &#39;buildPath&#39;: &#39;./output&#39;,\n      &#39;files&#39;: [\n        {\n          &#39;destination&#39;: &#39;css/variables.css&#39;,\n          &#39;format&#39;: &#39;css/variables&#39;,\n        }\n      ]\n    }\n  }\n}\n\nStyleDictionary.extend(baseConfig)\nStyleDictionary.buildAllPlatforms()</code>\n        </deckgo-highlight-code>\n<p class=\"para\">Style Dictionary 会将source中找到的文件，转换输出到<code>output/css/variables.css</code>。</p>\n<h3 class=\"heading\" id=\"转换单位\" style=\"position:relative;\"><a href=\"#%E8%BD%AC%E6%8D%A2%E5%8D%95%E4%BD%8D\" aria-label=\"转换单位 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>转换单位</h3>\n<p class=\"para\">但是实际情况往往会更加复杂一些。由于工具的限制，设计师导出的值需要再转换处理一次，比如单位的处理。这时候 Transform 就派上用场了。考虑下面这个例子，设计师导出了 <code>sizing.json</code> 和 <code>spacing.json</code>。</p>\n<deckgo-highlight-code language=\"json\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">{\n  &quot;sizing&quot;: {\n    &quot;10&quot;: {\n      &quot;value&quot;: &quot;10&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    },\n    &quot;12&quot;: {\n      &quot;value&quot;: &quot;12&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    },\n    &quot;14&quot;: {\n      &quot;value&quot;: &quot;14&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    },\n    &quot;16&quot;: {\n      &quot;value&quot;: &quot;16&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    },\n    &quot;18&quot;: {\n      &quot;value&quot;: &quot;18&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    },\n    &quot;20&quot;: {\n      &quot;value&quot;: &quot;20&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    },\n    &quot;22&quot;: {\n      &quot;value&quot;: &quot;22&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    },\n    &quot;24&quot;: {\n      &quot;value&quot;: &quot;24&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    },\n    &quot;28&quot;: {\n      &quot;value&quot;: &quot;28&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    },\n    &quot;32&quot;: {\n      &quot;value&quot;: &quot;32&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    },\n    &quot;36&quot;: {\n      &quot;value&quot;: &quot;36&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    },\n    &quot;40&quot;: {\n      &quot;value&quot;: &quot;40&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    },\n    &quot;48&quot;: {\n      &quot;value&quot;: &quot;48&quot;,\n      &quot;type&quot;: &quot;sizing&quot;\n    }\n  }\n}</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code language=\"json\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">{\n  &quot;spacing&quot;: {\n    &quot;0&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 0&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;0px&quot;\n    },\n    &quot;2&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 0.25&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;2px&quot;\n    },\n    &quot;4&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 0.5&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;4px&quot;\n    },\n    &quot;6&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 0.75&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;6px&quot;\n    },\n    &quot;8&quot;: {\n      &quot;value&quot;: &quot;8&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;8px,主间距&quot;\n    },\n    &quot;12&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 1.5&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;12px&quot;\n    },\n    &quot;16&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 2&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;16px&quot;\n    },\n    &quot;20&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 2.5&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;20px&quot;\n    },\n    &quot;24&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 3&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;24px&quot;\n    },\n    &quot;32&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 4&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;32px&quot;\n    },\n    &quot;40&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 5&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;40px&quot;\n    },\n    &quot;48&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 6&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;48px&quot;\n    },\n    &quot;64&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 8&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;64px&quot;\n    },\n    &quot;80&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 10&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;80px&quot;\n    },\n    &quot;96&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 12&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;96px&quot;\n    },\n    &quot;160&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 20&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot;160px&quot;\n    },\n    &quot;00&quot;: {\n      &quot;value&quot;: &quot;{spacing.8} * 0&quot;,\n      &quot;type&quot;: &quot;spacing&quot;,\n      &quot;description&quot;: &quot; &quot;\n    }\n  }\n}</code>\n        </deckgo-highlight-code>\n<p class=\"para\">我们需要做两件事：</p>\n<ul>\n<li>\n<p class=\"para\">sizing的value加上单位px</p>\n</li>\n<li>\n<p class=\"para\">spacing的value需要转换成客户端能够识别的语法，可以是计算之后的具体值，也可以是<code>calc()</code>。</p>\n</li>\n</ul>\n<p class=\"para\">使用Transform可以帮助我们解决这两个问题。</p>\n<blockquote class=\"quote\">\n<p class=\"para\">什么是Tranfrom?<br>\nStyle Dictionary 中的Transform是用来修改token的函数。使用 Transform可以对token的name、value 或者 attribute 进行转换，从而实现适配输出不同平台的能力。比如，将pixel转换成point。可以使用<a href=\"https://amzn.github.io/style-dictionary/#/transforms?id=pre-defined-transforms\" class=\"link-underline\">内置的Transforms</a>，也可以使用<code>registerTransform</code>方法注册自定义Transform。</p>\n</blockquote>\n<p class=\"para\">具体该怎么做呢？</p>\n<ul>\n<li>注册一个Transform。matcher用来过滤token，在transformer中实现核心转换逻辑。</li>\n</ul>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">StyleDictionary.registerTransform({\n  name: &#39;size/px&#39;,\n  type: &#39;value&#39;,\n  transitive: true,\n  matcher: token =&gt; {\n    return [&#39;spacing&#39;, &#39;sizing&#39;, &#39;lineHeights&#39;, &#39;borderRadius&#39;, &#39;fontSizes&#39;, &#39;borderWidth&#39;].includes(token.type)\n  },\n  transformer: token =&gt; {\n    const { value } = token;\n\n    if (typeof value === &#39;string&#39; &amp;&amp; value?.includes(&#39;*&#39;)) {\n      return `calc(${value})`\n    } else if (!Number.isNaN(parseInt(value, 10)) &amp;&amp; value.lastIndexOf(&#39;px&#39;) === -1) {\n      return `${token.original.value}px`\n    } else {\n      return value\n    }\n  }\n})</code>\n        </deckgo-highlight-code>\n<ul>\n<li>将 Tranform 加入到 TranformGroup 。</li>\n</ul>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">StyleDictionary.registerTransformGroup({\n  name: &#39;custom/css&#39;,\n  transforms: StyleDictionary.transformGroup[&#39;css&#39;].concat([\n    &#39;size/px&#39;,\n  ])\n})</code>\n        </deckgo-highlight-code>\n<ul>\n<li>修改 config，将<code>platforms.css.transformGroup</code> 设置为注册的TransformGroup的名字</li>\n</ul>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">const StyleDictionary = require(&#39;style-dictionary&#39;)\nconst config = {\n  &#39;source&#39;: [&#39;./tokens/**/*.json&#39;],\n  &#39;platforms&#39;: {\n    &#39;css&#39;: {\n      &#39;transformGroup&#39;: &#39;custom/css&#39;,\n      &#39;buildPath&#39;: &#39;./output&#39;,\n      &#39;files&#39;: [\n        {\n          &#39;destination&#39;: &#39;css/variables.css&#39;,\n          &#39;format&#39;: &#39;css/variables&#39;,\n        }\n      ]\n    }\n  }\n}\n\nStyleDictionary.extend(baseConfig)\nStyleDictionary.buildAllPlatforms()</code>\n        </deckgo-highlight-code>\n<p class=\"para\">到这一步，我们已经将得到了想要的样式文件了。</p>\n<h2 class=\"heading subtitle heading\" id=\"为Token输出可阅读的文档\" style=\"position:relative;\"><a href=\"#%E4%B8%BAToken%E8%BE%93%E5%87%BA%E5%8F%AF%E9%98%85%E8%AF%BB%E7%9A%84%E6%96%87%E6%A1%A3\" aria-label=\"为Token输出可阅读的文档 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>为Token输出可阅读的文档</h2>\n<p class=\"para\">在 Design System 这个体系中，文档也是其中的一部分。而文档也包含了 Design Token 相关的内容。各公司的设计系统文档中，都有属于他们自己的Token文档，可以极大地方便开发者在开发中Token。例如：</p>\n<p class=\"para\">Salesforce 的 Lightning Design System</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0beed5f193fdf5727559afabbafdb9bd/83e44/c3a68ba6644090a2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.06382978723405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLElEQVQoz5VSy0pDMRDt/3+HKz9CXIvgTl1UXAmCtfeZSTKPHJm0aXsvFXTgEMjMnMyck83rLmC7J1AgfO1H9GNAynxCTP/DhjMDKEhZQDEjUAIdk36aFfwWLAozW9xtQsy1yQm6kdCPhO+BMMyp3jXCUsoCHkNUBLZFvhKKKiZKmClD1SBWKlqsyRphR4okK8Juykis6EMERUZmhajhLzEmrz1vUFduza7dFGI95wswS9XJoaoQETAzhBmTE9qKsL1G5GQRchT6Ek7kxn10ETePOwwhg1JA8tqyIizF4Di8LFdXa8Vu1t3TO1gMWrT2Xearhq3JtYspQ+tEVt1tQrcpPvczbu+fD9+p+HRN67OBGxm3sPkNkuf6r06EV1ztp4iHl49DXVmu21z+AajeEaP+os4WAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"c3a68ba6644090a2\"\n        title=\"c3a68ba6644090a2\"\n        src=\"/static/0beed5f193fdf5727559afabbafdb9bd/1d69c/c3a68ba6644090a2.png\"\n        srcset=\"/static/0beed5f193fdf5727559afabbafdb9bd/4dcb9/c3a68ba6644090a2.png 188w,\n/static/0beed5f193fdf5727559afabbafdb9bd/5ff7e/c3a68ba6644090a2.png 375w,\n/static/0beed5f193fdf5727559afabbafdb9bd/1d69c/c3a68ba6644090a2.png 750w,\n/static/0beed5f193fdf5727559afabbafdb9bd/78797/c3a68ba6644090a2.png 1125w,\n/static/0beed5f193fdf5727559afabbafdb9bd/aa440/c3a68ba6644090a2.png 1500w,\n/static/0beed5f193fdf5727559afabbafdb9bd/83e44/c3a68ba6644090a2.png 5110w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\">Adobe 的 Spectrum</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ff2bd1894f1f54452f0a16347672c215/2e92a/a760f1a239b85fbf.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 103.72340425531914%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACwUlEQVQ4y51USW7bQBDkF/wm/8I/8QP8BJ+CnBMEMKJDrkZ8kg3nIkPKQTASidHCnRzum8gKqqlRpCBOjAzQGHLIrumu6m6j+vYMa7VCGEVomgZlWcJ1Xfi+jzzPEUWR2G63w59W3/cn70apFNIkESA6KaXw9PSEh4cHTKdT2cfjsZx3XYe2beU/7hqMuzYjimMkaSrRVVUle5Ikh+jCMJTL+C1NU2RZJt+484Lfl8HUVquVOBwD0plAdV3LGZ11FPqZkR4bzw06kzPtzNuXSxOmuRQei6KQaP5l6T5LQx8wurquUDQ9ihb/vQySbZomgiBAnmcomw6WauDEDbaqRduR+P6E+L+ZkaYJVj9MxHGCqipRtR2CbIeibFDUHbru9WB7wBSe5wlX5LBlSbxQc69KmaIoFe85rIVPx3FQFKVcoo1inVp2sCKnDhSlhhGrCK5jCZDuFNuyYNku1paH9daC5XiwPQXLsuQy2/WwDipsvBi2F2LrKvhROpRNHMfYbjZSxLrm4n2xk1dGn+cFdkddQsddD1CvQbLhWVLO0hS+54ozAXV7HZvuItoh/SwFBR0oU5IhLxMOt5s1gsA/9DMduROIACz8xWKBx8dH3Nzc4Pr6GpeXl7i4uMD5+TnOzs5wdXU1RMj6C/YdcQzIaLnzjLczCsd1pWbn8zkmkwnu78e4u7vDaDTCbDb71csE1WkxZeFoz5U29Jqtl5eIwmlC5U5Utm05E0VtezA++wq2G8IKC9jsJi+E6w7/EUc4pKI0PaIIStJJAYtejyx5zgpkeSHtuOuGadPKpBkykk7Rs03zRkA9pV9cfXeUfj+898NsNOhIFQlMUJaJjoxRa7GkLUlJ00FVPRxVirmqRFIDZdOjbZuhl5k/gbXKOlKCkQ5+E5UdB98XS0ymc3y+/YLRx1u8f/cJb998wNfZs0T4EzCBSl8FDQMDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"a760f1a239b85fbf\"\n        title=\"a760f1a239b85fbf\"\n        src=\"/static/ff2bd1894f1f54452f0a16347672c215/1d69c/a760f1a239b85fbf.png\"\n        srcset=\"/static/ff2bd1894f1f54452f0a16347672c215/4dcb9/a760f1a239b85fbf.png 188w,\n/static/ff2bd1894f1f54452f0a16347672c215/5ff7e/a760f1a239b85fbf.png 375w,\n/static/ff2bd1894f1f54452f0a16347672c215/1d69c/a760f1a239b85fbf.png 750w,\n/static/ff2bd1894f1f54452f0a16347672c215/78797/a760f1a239b85fbf.png 1125w,\n/static/ff2bd1894f1f54452f0a16347672c215/aa440/a760f1a239b85fbf.png 1500w,\n/static/ff2bd1894f1f54452f0a16347672c215/2e92a/a760f1a239b85fbf.png 2508w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\">我们也需要在文档系统中展示Design Token相关的内容。</p>\n<h3 class=\"heading\" id=\"提取数据\" style=\"position:relative;\"><a href=\"#%E6%8F%90%E5%8F%96%E6%95%B0%E6%8D%AE\" aria-label=\"提取数据 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>提取数据</h3>\n<p class=\"para\">仔细分析之后，你会发现：我们要做的事情就是按照我们的需求，将token中提供的信息再组装生产，成为文档需要的数据源，必要的时候还可以增加一下定制的内容。接下来，以Color为例，将Token源数据再组装为方便展示的数据。下图是源数据。</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2679ede197973e630ecadf10701bad0c/6be49/df6637675ad8eab2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.63829787234043%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABPklEQVQoz6WSS07DMBCGcxfUxPY4D9tx4pCUpqK0Cy7SPanEBVhwBzhEyUVYcZ0fOQlqQahqYfGNJT8+j2ccbJ4/sNr1uH3s0e56tN00Xkr3Bu8Kll2PjdJo7zWuUgMmNCLSiIQ6j2GvRsTTQRosdz0ozsGkGRfIHJB+/jz8WZ/pIPQyKhagcgEyDShzYLEdOVdIk9CHiCsIfY14voZ0LWRxA56WYNIiFObokDmRoToSTnUQeYOkXoF0DaksdFUhyUswOsi+ynFaONWOJQXi5g5k58hcDVM3SIwDqQIisRdkOHTLQKQO5NpBSP7ZWQVVVsibGql1lwkpLSGSAiFXY8ZfHRcGITffanmyyz7w2IKyamgCi4sf2KPxN8Z9/vLx23R7MCYRhoQw+juzGUf7sEewfnpHs31Bs339N971Cc4zolFsWoG+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"df6637675ad8eab2\"\n        title=\"df6637675ad8eab2\"\n        src=\"/static/2679ede197973e630ecadf10701bad0c/1d69c/df6637675ad8eab2.png\"\n        srcset=\"/static/2679ede197973e630ecadf10701bad0c/4dcb9/df6637675ad8eab2.png 188w,\n/static/2679ede197973e630ecadf10701bad0c/5ff7e/df6637675ad8eab2.png 375w,\n/static/2679ede197973e630ecadf10701bad0c/1d69c/df6637675ad8eab2.png 750w,\n/static/2679ede197973e630ecadf10701bad0c/78797/df6637675ad8eab2.png 1125w,\n/static/2679ede197973e630ecadf10701bad0c/6be49/df6637675ad8eab2.png 1160w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\">转换为</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fd54d02639c9cfc78474f9442d679411/6be49/72e3e0bcb252d5f0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.63829787234043%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABP0lEQVQoz62SSU7DMBiFcxfUOp6S2o7jDB0SlVFchD2pxAVYcAgOAbkIK67zkJOmA9BCBYvP/hVZX571HFw9veN81WL50KJataia9X4qzSu8K6ibFtfaoLrVOIs1QqpAuAZhA+o4w1kad9LA2ynXoNKAiASEmy+EIvkRL/WuoPZCaRHKFKHfo3Q9p/0sLAjf/dEBIV8L/RJyDe4WEFkF4RaQeQWRLSCLGpEtIZUDiy2ESkEj+21qf/2NkNAJqMoRVzfgpoSdFciXc+iiQJQ4yMQhshkmLu/EvxbK6UUnVHkJlRWQ2nWJQplgzEzHIPss3RcyBaZyiKwGtzMINwebZDBlsUm5Kzia0JfCItsVQ+jOc+Fmm4qZ01ruP9ptu0Pje/Mh+jM+QH/l+xeMRhRjwv+Ed3hXcPn4hund87/gXR87tKL0nCELlwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"72e3e0bcb252d5f0\"\n        title=\"72e3e0bcb252d5f0\"\n        src=\"/static/fd54d02639c9cfc78474f9442d679411/1d69c/72e3e0bcb252d5f0.png\"\n        srcset=\"/static/fd54d02639c9cfc78474f9442d679411/4dcb9/72e3e0bcb252d5f0.png 188w,\n/static/fd54d02639c9cfc78474f9442d679411/5ff7e/72e3e0bcb252d5f0.png 375w,\n/static/fd54d02639c9cfc78474f9442d679411/1d69c/72e3e0bcb252d5f0.png 750w,\n/static/fd54d02639c9cfc78474f9442d679411/78797/72e3e0bcb252d5f0.png 1125w,\n/static/fd54d02639c9cfc78474f9442d679411/6be49/72e3e0bcb252d5f0.png 1160w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\">为此，需要实现一个Format，这个Format做的事情是遍历所有的Token，将引用的变量替换为对应的值，最后创建一个以<code>Token.name</code>为key的对象，其核心代码如下所示：</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">StyleDictionary.registerFormat({\n  name: &#39;customFormat/json&#39;,\n  formatter({ dictionary, file, options }) {\n    const { outputReferences } = options;\n    const res = {};\n\n    dictionary.allTokens.map(token =&gt; {\n      let value = JSON.stringify(token.value)\n\n      if (dictionary.usesReference(token.original.value)) {\n        const refs = dictionary.getReferences(token.original.value);\n\n        refs.forEach(ref =&gt; {\n          value = value.replace(ref.name, function () {\n            return `var(--${ref.name})`;\n          });\n        });\n      }\n\n      res[token.name] = {\n        name: token.name.replace(/\\B([A-Z])|([0-9]\\d*)/g, &#39;-$1$2&#39;).toLowerCase(),\n        value: JSON.parse(value),\n        type: token.type,\n        description: token.description || &#39;&#39;,\n      }\n    })\n\n    return JSON.stringify(res, null, 2);\n  }\n})</code>\n        </deckgo-highlight-code>\n<p class=\"para\">除此之外，为了解决上文提到的单位问题，需要再注册一个自定义TransformGroup。</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">StyleDictionary.registerTransformGroup({\n  name: &#39;custom/json&#39;,\n  transforms: StyleDictionary.transformGroup[&#39;js&#39;].concat([\n    &#39;size/px&#39;,\n  ])\n})</code>\n        </deckgo-highlight-code>\n<p class=\"para\">最后在config中增加输出json的相关配置。</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// index.js\nconst StyleDictionary = require(&#39;style-dictionary&#39;)\nconst config = {\n  &#39;source&#39;: [&#39;./tokens/**/*.json&#39;],\n  &#39;platforms&#39;: {\n    &#39;css&#39;: {\n      &#39;transformGroup&#39;: &#39;css&#39;,\n      &#39;buildPath&#39;: &#39;./output&#39;,\n      &#39;files&#39;: [\n        {\n          &#39;destination&#39;: &#39;css/variables.css&#39;,\n          &#39;format&#39;: &#39;css/variables&#39;,\n        }\n      ]\n    },\n    &#39;json&#39;: {\n      &#39;transformGroup&#39;: &#39;custom/json&#39;,\n      &#39;buildPath&#39;: &#39;./output&#39;,\n      &#39;files&#39;: [\n        {\n          &#39;destination&#39;: &#39;json/variables.css&#39;,\n          &#39;format&#39;: &#39;css/variables&#39;,\n        }\n      ]\n    }\n  }\n}\n\nStyleDictionary.extend(baseConfig)\nStyleDictionary.buildAllPlatforms()</code>\n        </deckgo-highlight-code>\n<h3 class=\"heading\" id=\"自定义组件渲染\" style=\"position:relative;\"><a href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93\" aria-label=\"自定义组件渲染 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>自定义组件渲染</h3>\n<p class=\"para\">提取到了想要的数据结构之后，接下来的工作简直就是小菜一碟了。写几个组件，稍微加点逻辑，就可以实现文档展示了。我们的项目最后实际效果如下图。</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/47d6a57bed1b13271be314cf57e9968a/0c3d0/037c8da55ad5c088.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 179.78723404255322%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"037c8da55ad5c088\"\n        title=\"037c8da55ad5c088\"\n        src=\"/static/47d6a57bed1b13271be314cf57e9968a/1d69c/037c8da55ad5c088.png\"\n        srcset=\"/static/47d6a57bed1b13271be314cf57e9968a/4dcb9/037c8da55ad5c088.png 188w,\n/static/47d6a57bed1b13271be314cf57e9968a/5ff7e/037c8da55ad5c088.png 375w,\n/static/47d6a57bed1b13271be314cf57e9968a/1d69c/037c8da55ad5c088.png 750w,\n/static/47d6a57bed1b13271be314cf57e9968a/78797/037c8da55ad5c088.png 1125w,\n/static/47d6a57bed1b13271be314cf57e9968a/0c3d0/037c8da55ad5c088.png 1414w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/df23913205f12a694a6d0a428b55e8ae/ccf0c/050c2aa0807cba30.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 162.2340425531915%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAYAAAASYli2AAAACXBIWXMAAAsTAAALEwEAmpwYAAADyUlEQVRIx6VWTW/jVBT132ODEBs2iBELhJBYoGEWIxiBYIVAsEB8STDiaxCUrw0rVgh2CFWN0s60nbZJY8eO48RxEn+8Z8fOQeemL3WCy1QaS0cvyXs+77x77r0v1ng8Rrvdxt7eHo6OjtBqtbC7u4tutws+y+VScN3HiuMYg8EAQRAgDEP4vi9I03SD8CrImjohiYyapudR6rbnrTzPMZvNMJ1Or63q/2BpTcI55nGCaDpDWZaYz2NMZ/P17mmaIYqmSJJU5uIkRTiJsFgs/qPSojLXddHv95Fl2eMrVEqJGYyl1nojNo9yuJGwKBZylLKs1osypTaIlNKI4wRplgkYnqIomk1J0gz+MBASPlVVbcSPI+MWjMYS40k0RRhGMm7nqSjkjsNgJCrMj9uENG3gB2LMOJwImT8crUnrxJbSWhxT+pJwHscbR+ERueloHGI2j2UkOd8LRiGSi3STI1MZJ4whlRAmGwqpxO576Nl9UTYMxnA9X4i9wRCO68n3YrGAxbzTeY6yujSF+WUIGdM4SSTGWabkJCwGCiH4LsPGNVxr5XkhQa+7VneZI5XYfRf3Dx/i9OwcJ6ddyQzbcQU01YTM4gtUWVWXBNyprnBlQoDjkzMh5TH5u0HdaYuSmQ4sQUPI3esK6azrDYTw5KyL7rmNgwfHkg2MZ2v/Abo9R3LZuk4n6VwQUBmPvNvax9//7KF9cCjhoBgKk7RhgBMGPcsE24nKh9VEA4yBNIeVw5MUFw1inTas406ng16vB8dxNsiu2623arkAuzarwTht0sZgUZYyt1iUMkcwO+qG1LqNxmSyKiljfT2xzfdVlczFQGNGU4Ow2Cy9gQ+n78liUxn1RSyvs04Pg2EgVUFzHp521g1lQyGlc0cmN3NR0ibNNmLJec9nM5hhNJ4gnEzhDoZQms5C3jPvWlEUiRm2bcPzvMbGCVQNKLfuu9olRVN4bzAmJMgvRoNuUKHdK3HglNi3VzhwqvVnom2XSNQSFuPAXseOs+4uk6h2ZODrvwrc/l7jzZ813vipGXd+1LKx9MPRKJQ4NfVDjl/9WeDOjsbbv2q89UszuNm5ECoNPxghimZXduy7fxS49Z3G6zsar/2whZ0VeILOsFo1Bx6XqgwBe1ud8KPfc7z8pcKr9zRuftuMV75ROPWrlSnMO9bmVd3m3d9yPP+Zwkt3FV78ohkvfK5w7FWrfw6sknoMeW9c9sMlbt3TeOKdDE9/kOGp95vx5HuZuC1XAOPIBDeEJn3MHUMznvkww41PFZ77pBnPfpzh0K3wLxeBfLlI0A9mAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"050c2aa0807cba30\"\n        title=\"050c2aa0807cba30\"\n        src=\"/static/df23913205f12a694a6d0a428b55e8ae/1d69c/050c2aa0807cba30.png\"\n        srcset=\"/static/df23913205f12a694a6d0a428b55e8ae/4dcb9/050c2aa0807cba30.png 188w,\n/static/df23913205f12a694a6d0a428b55e8ae/5ff7e/050c2aa0807cba30.png 375w,\n/static/df23913205f12a694a6d0a428b55e8ae/1d69c/050c2aa0807cba30.png 750w,\n/static/df23913205f12a694a6d0a428b55e8ae/78797/050c2aa0807cba30.png 1125w,\n/static/df23913205f12a694a6d0a428b55e8ae/ccf0c/050c2aa0807cba30.png 1428w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3c583b0526d1e1c312d6b96656ab4c69/d4e7f/8cd8a6a3439b0130.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBElEQVQ4y61Uy47TMBTNz4PEgg2w5R8QEtKw4gOqahCzQWoFqKit2s4kaZz4FdsHHSdO0oFpizRXurrOw8fH5z6yw+GA2WyGzWaD57Bsv99jPp9juVxisVggz/P4oW3b0V2A9wEhXPbMGIOiKFCW5RCVUqiqCkKI+Az4eAg3ABcBLcpjhbpuBtpK635zZ+8+G9ytXFz7yft/XtnaFqKuIaUaTjHW9uvup5cfDOY/ekB/JUMh6uGlUvoE8PUng6+/RsCzDCl6IyWkeprhi0cMzwKS4ZEM6wlDfcrwzY3Bt2s1TFeuRA3nuk3U03mPtPXVR4Pbn/9x5bqRAwhNawNPwH7v2xuDu98jw7NJaVsXwVIiaKzNKeD7LxbfN74HvNApLGC23f3hgPV6jdVqBWvtUMhjPYaL7CJDdsVDnseuIDNelz79yboAR2rXAHYaNrHdktm+bDqWQKM70PR8PinOoZEq1l4yMh0BA4QKMG04keFJhk3TYLvdgmOMk4fRe3+y2flwhlk48Qi42+3i2MqLIk4c1uP0VB7Aamgdo4/Rtg7O+XhYciYto14savYyBwWNmqZ1fJYGD0WFo5AojnWM90UFqTkrEfWlU5ZMG4OyPEYnKI2RmU4mtUVZ1RCNQiVkjARWpoXziAM4efaXIhOx0tpaJk5DawupTIxMJGVgNbEdfX/lP6uEHyygH7ooAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"8cd8a6a3439b0130\"\n        title=\"8cd8a6a3439b0130\"\n        src=\"/static/3c583b0526d1e1c312d6b96656ab4c69/1d69c/8cd8a6a3439b0130.png\"\n        srcset=\"/static/3c583b0526d1e1c312d6b96656ab4c69/4dcb9/8cd8a6a3439b0130.png 188w,\n/static/3c583b0526d1e1c312d6b96656ab4c69/5ff7e/8cd8a6a3439b0130.png 375w,\n/static/3c583b0526d1e1c312d6b96656ab4c69/1d69c/8cd8a6a3439b0130.png 750w,\n/static/3c583b0526d1e1c312d6b96656ab4c69/78797/8cd8a6a3439b0130.png 1125w,\n/static/3c583b0526d1e1c312d6b96656ab4c69/d4e7f/8cd8a6a3439b0130.png 1416w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 class=\"heading subtitle heading\" id=\"结束语\" style=\"position:relative;\"><a href=\"#%E7%BB%93%E6%9D%9F%E8%AF%AD\" aria-label=\"结束语 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>结束语</h2>\n<p class=\"para\">目前团队中已经将Token应用在组件库的建设和业务开发，效果非常不错。后续会继续完善文档，增加一下交互操作，让开发者的使用体验更加舒适。除此之外，虽然token通过gitlab仓库管理，但是自动化的交付流程尚未健全，后续也是一个可以优化和提升的case。</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E5%8C%BA%E5%88%86token-%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%B1%82%E7%BA%A7\">区分Token 的类型和层级</a></p>\n</li>\n<li>\n<p><a href=\"#%E7%BA%A6%E5%AE%9A-token-%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83\">约定 Token 命名规范</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%B0%86token%E8%BD%AC%E6%8D%A2%E6%88%90%E6%A0%B7%E5%BC%8F%E4%BB%A3%E7%A0%81\">将Token转换成样式代码</a></p>\n<ul>\n<li><a href=\"#%E8%BD%AC%E6%8D%A2%E5%8D%95%E4%BD%8D\">转换单位</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E4%B8%BAtoken%E8%BE%93%E5%87%BA%E5%8F%AF%E9%98%85%E8%AF%BB%E7%9A%84%E6%96%87%E6%A1%A3\">为Token输出可阅读的文档</a></p>\n<ul>\n<li><a href=\"#%E6%8F%90%E5%8F%96%E6%95%B0%E6%8D%AE\">提取数据</a></li>\n<li><a href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93\">自定义组件渲染</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E7%BB%93%E6%9D%9F%E8%AF%AD\">结束语</a></p>\n</li>\n</ul>","headings":[{"id":"区分Token-的类型和层级","depth":2,"value":"区分Token 的类型和层级"},{"id":"约定-Token-命名规范","depth":2,"value":"约定 Token 命名规范"},{"id":"将Token转换成样式代码","depth":2,"value":"将Token转换成样式代码"},{"id":"转换单位","depth":3,"value":"转换单位"},{"id":"为Token输出可阅读的文档","depth":2,"value":"为Token输出可阅读的文档"},{"id":"提取数据","depth":3,"value":"提取数据"},{"id":"自定义组件渲染","depth":3,"value":"自定义组件渲染"},{"id":"结束语","depth":2,"value":"结束语"}],"frontmatter":{"title":"Style Dictionary 和 Design Token 的实战","date":"2022-07-22","cover":"https://images.unsplash.com/photo-1496483648148-47c686dc86a8?ixlib=rb-1.2.1&q=80&cs=tinysrgb&fm=jpg&crop=entropy","description":null,"categories":["解决方案"],"tags":["JavaScrtipt","Node.js","CSS"]}},"previous":{"fields":{"slug":"/blogs/使用 SVG 建立图标系统/"},"frontmatter":{"title":"使用 SVG 建立图标系统"}},"next":{"fields":{"slug":"/blogs/使用 Style Dictionary 管理 Design Token/"},"frontmatter":{"title":"使用 Style Dictionary 管理 Design Token","tags":["CSS","JavaScrtipt","架构"],"categories":["解决方案"],"status":"publish"}}},"pageContext":{"id":"57caaa42-5250-53fa-964d-6732d90411ae","previousPostId":"f58b116e-f0b7-5263-890c-67bc689ab560","nextPostId":"f60293b8-cc41-5bec-babb-732a1d0003f8"}},
    "staticQueryHashes": ["2841359383"]}