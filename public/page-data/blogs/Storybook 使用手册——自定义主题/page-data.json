{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blogs/Storybook 使用手册——自定义主题/",
    "result": {"data":{"site":{"siteMetadata":{"title":"张小伦的网络日志","description":"欢迎来到张小伦的网络日志 \n\t\t一个记录生活，分享心得的博客","menu":[{"id":"home","name":"首页","url":"/"},{"id":"blog","name":"博文","url":"/blogs"},{"id":"category","name":"分类","url":"/categories"},{"id":"archive","name":"归档","url":"/archives"},{"id":"lab","name":"实验室","url":"/labs"},{"id":"about","name":"关于我","url":"/about"}]}},"markdownRemark":{"id":"2113b3f4-646d-5f8a-99ef-4ee001ef8fa8","html":"<p class=\"para\">虽然Storybook 提供的默认的样式已经挺漂亮的，但是当在落地自己的设计系统时，还是希望能够在整体风格上做出属于自己的定制。Storybook 提供了主题配置相关的 API，只需要安装几个package。</p>\n<h2 class=\"heading subtitle heading\" id=\"修改-Storybook-UI-布局manager\" style=\"position:relative;\"><a href=\"#%E4%BF%AE%E6%94%B9-Storybook-UI-%E5%B8%83%E5%B1%80manager\" aria-label=\"修改 Storybook UI 布局manager permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>修改 Storybook UI 布局(manager)</h2>\n<p class=\"para\">要想控制和修改 Storybook 的 UI 布局 (Storybook 官方称之为”manager“）你需要创建 <code>.storybook/manager.js</code> 。这个文件中没有什么特别的API，只有可设置的UI属性和可配置的theme属性。例如</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// .storybook/manager.js\n\nimport { addons } from &#39;@storybook/addons&#39;;\n\naddons.setConfig({\n  isFullscreen: false,\n  showNav: true,\n  showPanel: true,\n  panelPosition: &#39;bottom&#39;,\n  enableShortcuts: true,\n  showToolbar: true,\n  theme: undefined,\n  selectedPanel: undefined,\n  initialActive: &#39;sidebar&#39;,\n  sidebar: {\n    showRoots: false,\n    collapsedRoots: [&#39;other&#39;],\n  },\n  toolbar: {\n    title: { hidden: false },\n    zoom: { hidden: false },\n    eject: { hidden: false },\n    copy: { hidden: false },\n    fullscreen: { hidden: false },\n  },\n});</code>\n        </deckgo-highlight-code>\n<p class=\"para\">具体的可以参阅下面的表格</p>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>描述</th>\n<th>例子</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>isFullscreen</td>\n<td>Boolean</td>\n<td>全屏展示story组件</td>\n<td>false</td>\n</tr>\n<tr>\n<td>showNav</td>\n<td>Boolean</td>\n<td>展示用于显示story的面板</td>\n<td>false</td>\n</tr>\n<tr>\n<td>showPanel</td>\n<td>Boolean</td>\n<td>展示用于显示addon配置的面板</td>\n<td>true</td>\n</tr>\n<tr>\n<td>panelPosition</td>\n<td>String/Object</td>\n<td>面板的位置</td>\n<td>bottom 或者 right</td>\n</tr>\n<tr>\n<td>enableShortcuts</td>\n<td>Boolean</td>\n<td>启用/关闭快捷键</td>\n<td>true</td>\n</tr>\n<tr>\n<td>showToolbar</td>\n<td>Boolean</td>\n<td>显示/隐藏工具栏</td>\n<td>true</td>\n</tr>\n<tr>\n<td>theme</td>\n<td>Object</td>\n<td>Storybook的主题</td>\n<td>undefined</td>\n</tr>\n<tr>\n<td>selectedPanel</td>\n<td>String</td>\n<td>选中的面板id</td>\n<td>storybook/actions/panel</td>\n</tr>\n<tr>\n<td>initialActive</td>\n<td>String</td>\n<td>移动端默认选中还能够的tab</td>\n<td>sidebar/canvas/addons</td>\n</tr>\n<tr>\n<td>sidebar</td>\n<td>Object</td>\n<td>Sidebar的配置选项，请看下文</td>\n<td>{ showRoots: false }</td>\n</tr>\n<tr>\n<td>toolbar</td>\n<td>Object</td>\n<td>使用addon的ID修改工具栏中的工具</td>\n<td>{ fullscreen: { hidden: false } } }</td>\n</tr>\n</tbody>\n</table>\n<p class=\"para\"><strong>Sidebar 的配置</strong></p>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>描述</th>\n<th>例子</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>showRoots</td>\n<td>Boolean</td>\n<td>在侧边栏展示最顶层的根节点</td>\n<td>false</td>\n</tr>\n<tr>\n<td>collapsedRoots</td>\n<td>Array</td>\n<td>设置默认收起的根节点</td>\n<td>[‘misc’, ‘other’]</td>\n</tr>\n<tr>\n<td>renderLabel</td>\n<td>Function</td>\n<td>为树节点创建自定义标签；必须返回 ReactNode</td>\n<td>(item) => <abbr title=\"...\">{<a href=\"http://item.name/\" class=\"link-underline\">item.name</a>}</abbr></td>\n</tr>\n</tbody>\n</table>\n<p class=\"para\"><strong>Toolbar 的配置</strong></p>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>描述</th>\n<th>例子</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>String</td>\n<td>切换工具栏项的可见性</td>\n<td>{ hidden: false }</td>\n</tr>\n</tbody>\n</table>\n<h2 class=\"heading subtitle heading\" id=\"设置内置主题\" style=\"position:relative;\"><a href=\"#%E8%AE%BE%E7%BD%AE%E5%86%85%E7%BD%AE%E4%B8%BB%E9%A2%98\" aria-label=\"设置内置主题 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>设置内置主题</h2>\n<p class=\"para\">Storybook默认有两个开箱即用的主题：“light”和“dark”，默认使用亮色主题。如果想修改默认的主题，你需要先安装好两个依赖，<a href=\"https://www.npmjs.com/package/@storybook/addons\" class=\"link-underline\"><code>@storybook/addons</code></a> and <a href=\"https://www.npmjs.com/package/@storybook/theming\" class=\"link-underline\"><code>@storybook/theming</code></a> 。</p>\n<deckgo-highlight-code language=\"bash\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">yarn add --dev @storybook/addons @storybook/theming</code>\n        </deckgo-highlight-code>\n<p class=\"para\">然后在修改 <code>.storybook/manager.js</code> 中的配置</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// .storybook/manager.js\n\nimport { addons } from &#39;@storybook/addons&#39;;\nimport { themes } from &#39;@storybook/theming&#39;;\n\naddons.setConfig({\n  theme: themes.dark,\n});</code>\n        </deckgo-highlight-code>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7fdcb11d8acedbb491835a89be58b4d5/35d5c/3cffdb9fe716f201.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.91489361702128%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCklEQVQoz42S0U7DMAxF+/9fg5D4GYT2hBhjbFWaxHHipHdyUgotgsXSeWndk+u4w3gxeHs/Y3IBhiKMCyAizPO8AfhNew7knOGcg6eA4XQZMU4eFDMkl9rQ2ral3/7Nl7hg+LhOGI2DZ0GSRbhL14OW5Izh+Dni9XiC5/xDiI34Xn0LC4anF4fHZ4uHQ8HBNGHZifoSzi2hD6neX4gZVxKcqSCJIKWEGGO98B5hKQWBEwbPqd6fSq0nWDutSxGRuj1t7oGTNKHKFE/chMupms4YA2ZeU/yHBrgrtNbW8XsSpiZs4+qWo2Rkkc0GVabinqr/odVUCz4wAkdQ4BWOCZN1MNaBdu/26IQ3lRBhaGg4WtkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3cffdb9fe716f201\"\n        title=\"3cffdb9fe716f201\"\n        src=\"/static/7fdcb11d8acedbb491835a89be58b4d5/1d69c/3cffdb9fe716f201.png\"\n        srcset=\"/static/7fdcb11d8acedbb491835a89be58b4d5/4dcb9/3cffdb9fe716f201.png 188w,\n/static/7fdcb11d8acedbb491835a89be58b4d5/5ff7e/3cffdb9fe716f201.png 375w,\n/static/7fdcb11d8acedbb491835a89be58b4d5/1d69c/3cffdb9fe716f201.png 750w,\n/static/7fdcb11d8acedbb491835a89be58b4d5/78797/3cffdb9fe716f201.png 1125w,\n/static/7fdcb11d8acedbb491835a89be58b4d5/aa440/3cffdb9fe716f201.png 1500w,\n/static/7fdcb11d8acedbb491835a89be58b4d5/35d5c/3cffdb9fe716f201.png 2760w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b64ec7c71a8da824e364a01b7e4d83f9/b1945/eabd389a1049493d.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.91489361702128%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcklEQVQoz5VT207CQBTcj8FIS6/be3dbeqMRfDCGQOKDQGuMBBPl/1/GnEWIPpTow6TdntmZOTmn7OlxibZtkSYxqsUDsmqGPMuQ5TnyPMd0OkWWZZBSDoLqQRDi83gEq+sKnufBNE2kaQrX5XAcB67r/hmcc4zHY7zt92B3i3u4nMOyHSVE4v9FEATQdR3Pmw1YW5eIuAVbuwF3SdCHx/mFzH+8D8H3fSW43e3A5rsPyGUHrVnBjQQ8xwLnJ6G/iF0Sahq22y1YsX6F3a6gz9awZQMepYoQhqFyPoteEz8n3HUdmAg9GLcj2OMRwkQgzEpFINE4jtWgzuchkLlhmuj6FzAhJQzTUkOJowi5lCoNTS+KIjRNAyEEkiQZBNWJ3/U9GO0RrYxlWSpNURSXVigh7ShxqDYE+R2ip4R0SdM0TCYTJUKOtD62baszGRDnWsvUiWEYp6HM53MIIdVfQZfLsvwF+lbQ8wqqqlamh8M7vgA2WG60s3OkMgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"eabd389a1049493d\"\n        title=\"eabd389a1049493d\"\n        src=\"/static/b64ec7c71a8da824e364a01b7e4d83f9/1d69c/eabd389a1049493d.png\"\n        srcset=\"/static/b64ec7c71a8da824e364a01b7e4d83f9/4dcb9/eabd389a1049493d.png 188w,\n/static/b64ec7c71a8da824e364a01b7e4d83f9/5ff7e/eabd389a1049493d.png 375w,\n/static/b64ec7c71a8da824e364a01b7e4d83f9/1d69c/eabd389a1049493d.png 750w,\n/static/b64ec7c71a8da824e364a01b7e4d83f9/78797/eabd389a1049493d.png 1125w,\n/static/b64ec7c71a8da824e364a01b7e4d83f9/aa440/eabd389a1049493d.png 1500w,\n/static/b64ec7c71a8da824e364a01b7e4d83f9/b1945/eabd389a1049493d.png 2754w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\">文档的主题的实现逻辑和全局主题类似，不过文档的主题设置是独立于全局主题的。所以你会看到文档区域还是亮色主题，看起来就像是bug了。</p>\n<p class=\"para\">要想修改文档的主题，必须在 .storybook/preview.js 中增加主题的设置。</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5ae3f40fcc46fd1f3513333e53b196bc/38abd/29d93b9a4cc733df.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.38297872340425%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxUlEQVQoz51STWsaURSdX1EiqRiFgpsQKWiwiqtapBiJKIndVQhJacgP6D9wUzU0dSZRsgjZZNF/40JQQeJGcMZOMzoz780bT3nPz6zyceHw5s6597w59470vXiEvXQa0WgU305OUKtf4+evGs6rVZQrFZTL5WehUq2gVCpBymb3EQ6H4fV60Wg0wKPVaqHT6UDXdbwk7vt9SAeFL4hEIvD5fJBlWRCmaYIx9mw4jiP62u02pPxhAbF4HFt+P2RFEYRhjOEw9uj26XQFka9x4/EElFJ0u11I+VwWiQ+78HneQKldiILJ2AClBJTasMwJbNtc5ot3lNiwLBPEtsRJHWcmmDv9gcTBMTZ3P0O+/SMEtZGGqeuCMQcPD/9AiA3XZSLnILa9PGcXUdHH5y5limd4/ymHt+GPqN3cCeKvri8t8eLp3Oe6ZR58dpx3XXclmE4lsR18h63NDSi/Z5ZVVRXD5kKWZS2feeMCi+UZhvFYcC+TwU4oBH8gAOXyUhD8d1kIcLF1oXXwr+Ng8wUKwVQqhWAwCI/HA2W+5dFohNdEr9eD9LVYRDKZRCwWw1W9DkIIBoMBVFWDpj0NXjccDoWrZrOJ/6lJ8iQ96HN2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"29d93b9a4cc733df\"\n        title=\"29d93b9a4cc733df\"\n        src=\"/static/5ae3f40fcc46fd1f3513333e53b196bc/1d69c/29d93b9a4cc733df.png\"\n        srcset=\"/static/5ae3f40fcc46fd1f3513333e53b196bc/4dcb9/29d93b9a4cc733df.png 188w,\n/static/5ae3f40fcc46fd1f3513333e53b196bc/5ff7e/29d93b9a4cc733df.png 375w,\n/static/5ae3f40fcc46fd1f3513333e53b196bc/1d69c/29d93b9a4cc733df.png 750w,\n/static/5ae3f40fcc46fd1f3513333e53b196bc/78797/29d93b9a4cc733df.png 1125w,\n/static/5ae3f40fcc46fd1f3513333e53b196bc/aa440/29d93b9a4cc733df.png 1500w,\n/static/5ae3f40fcc46fd1f3513333e53b196bc/38abd/29d93b9a4cc733df.png 2766w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// .storybook/preview.js\n\nimport { themes } from &#39;@storybook/theming&#39;;\n\n// or global addParameters\nexport const parameters = {\n  docs: {\n    theme: themes.dark,\n  },\n};</code>\n        </deckgo-highlight-code>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/68e3598a7d86eb426fce435b1ade33b7/38abd/d7da6de15aafada4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.91489361702128%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuUlEQVQoz42SXXOaUBCG+S8do3x/iYAoYNDgAWRKzdiJVnFq1Rsvm/6FxE6T/uS3s8eY9MZJLp5hl91z9ry7K2zmK2SMod/vIwr7iIYpwuQGcRQhDMMPEwQBPlcVhKLIYVkWNE2DqqpI0xSLxYIzGo34f9M0YRjGRSiuKAo/K1RfprBt+/Wg53mcTqcDx3E+BOXSHYwxCGU1hef7MEwTumHA933IsoxmswlRFNFqXYbilKfrOjzPP72wnOQIXAe61IQqi9jttvj7/ITj4wN+Hx/f5Xh8wPPTH9zf/0SWZRDK/S90bzeQxgso/gBfb6c4HA5YLZdYr2tsNt/5t65XWNf1iRefYtvtD+z3e8xmMzC6cDzfQb8uIScVjG4Mx7Z4P86ySP7/0sk+S6WBWJbNh0lD4T28uY4gXX2CIbdgaiq6QYDhcAjXdXmzqaeu2+H2GfLb7TYGgwGSJOGDIZ+/MB0zKKoGw7RgmhaiKOI7SQnvTZe2gQpSEVo93kOq0mg0IEkSl0J+r9fjvqaqXM4lSCZBKyeJIuI4hvBtueQLPGYMjGUoyxJFMUGe58iL4jL5m11MTvl3d3P8A47XgxfDsjF/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"d7da6de15aafada4\"\n        title=\"d7da6de15aafada4\"\n        src=\"/static/68e3598a7d86eb426fce435b1ade33b7/1d69c/d7da6de15aafada4.png\"\n        srcset=\"/static/68e3598a7d86eb426fce435b1ade33b7/4dcb9/d7da6de15aafada4.png 188w,\n/static/68e3598a7d86eb426fce435b1ade33b7/5ff7e/d7da6de15aafada4.png 375w,\n/static/68e3598a7d86eb426fce435b1ade33b7/1d69c/d7da6de15aafada4.png 750w,\n/static/68e3598a7d86eb426fce435b1ade33b7/78797/d7da6de15aafada4.png 1125w,\n/static/68e3598a7d86eb426fce435b1ade33b7/aa440/d7da6de15aafada4.png 1500w,\n/static/68e3598a7d86eb426fce435b1ade33b7/38abd/d7da6de15aafada4.png 2766w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 class=\"heading subtitle heading\" id=\"创建自己的主题\" style=\"position:relative;\"><a href=\"#%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E4%B8%BB%E9%A2%98\" aria-label=\"创建自己的主题 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>创建自己的主题</h2>\n<p class=\"para\"><code>@storybook/theming</code> 提供了一个<code>create()</code> 方法，用于快速创建自定义的Storybook主题。这个方法接收一个对象参数，用于自定义各种主题相关变量。</p>\n<deckgo-highlight-code language=\"typescript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">export interface ThemeVars {\n  base: &#39;light&#39; | &#39;dark&#39;;\n\n  colorPrimary?: string;\n  colorSecondary?: string;\n\n  // UI\n  appBg?: string;\n  appContentBg?: string;\n  appBorderColor?: string;\n  appBorderRadius?: number;\n\n  // Typography\n  fontBase?: string;\n  fontCode?: string;\n\n  // Text colors\n  textColor?: string;\n  textInverseColor?: string;\n  textMutedColor?: string;\n\n  // Toolbar default and active colors\n  barTextColor?: string;\n  barSelectedColor?: string;\n  barBg?: string;\n\n  // Form colors\n  inputBg?: string;\n  inputBorder?: string;\n  inputTextColor?: string;\n  inputBorderRadius?: number;\n\n  brandTitle?: string;\n  brandUrl?: string;\n  brandImage?: string;\n  brandTarget?: string;\n\n  gridCellSize?: number;\n}</code>\n        </deckgo-highlight-code>\n<p class=\"para\">那应该如何使用呢？你可以在任意目录创建一个 JavaScript 文件，这个文件导出 <code>create()</code> 方法执行之后的ThemeVar对象。然后在manager.js中使用这个对象就行了。通常我会讲这个文件放在Storybook的配置目录<code>.storybook</code> 中，以方便集中管理。</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// .storybook/MyTheme.js\n\nimport { create } from &#39;@storybook/theming&#39;;\n\nexport default create({\n  base: &#39;light&#39;,\n  brandTitle: &#39;My custom storybook&#39;,\n  brandUrl: &#39;https://example.com&#39;,\n  brandImage: &#39;https://place-hold.it/350x150&#39;,\n  brandTarget: &#39;_self&#39;,\n});</code>\n        </deckgo-highlight-code>\n<p class=\"para\">上面的代码片段创建了我自己的主题，具体来说它做了这些事情：</p>\n<ul>\n<li>\n<p class=\"para\">使用Storybook的亮色主题作为基础</p>\n</li>\n<li>\n<p class=\"para\">替换侧边栏的logo</p>\n</li>\n<li>\n<p class=\"para\">添加了品牌信息</p>\n</li>\n<li>\n<p class=\"para\">设置了logo点击的跳转链接</p>\n</li>\n</ul>\n<p class=\"para\">然后再导入到manager.js 中使用。</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// .storybook/manager.js\n\nimport { addons } from &#39;@storybook/addons&#39;;\nimport myTheme from &#39;./MyTheme&#39;;\n\naddons.setConfig({\n  theme: myTheme,\n});</code>\n        </deckgo-highlight-code>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/be0e9f7b725ec9e9eafbd869c6545a9f/00fb1/e667262866da392a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.38297872340425%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHUlEQVQoz52S/UrDQBDE7/3fRvxDsO9RUQTB1orWfN/m7nb3MrLXmlLwo/FguCQkv8zNjlvf3eN2tcJm+4ImZOz7gHEksAiYBYm5XGvO3yrnDBGBJwKNI9y+avC8fUXVDogsEAMwY8kyaEoJMSW4fd2i6QmBM1jy/NI0TRfra5lj9173qNsBFKUAl4DOoNMEUYXbfbTY7N7go0JEzdvZcZa4VM1wN48e1w8Drp4y1nVGVIBFS9CqughqQ3QUGWNShKRofETl42GCqogxIoQwB/8bzL4ZI5+AZNAQQb6fj2CQYRjK1O1ZPtbkJ1lkM9DkKaDrutNfVcu9VeIvmMn6eu4wMYj87NB2IirAS7IsU/aBS2Vst2If8vuHjg4/AeLdYG60P9gVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"e667262866da392a\"\n        title=\"e667262866da392a\"\n        src=\"/static/be0e9f7b725ec9e9eafbd869c6545a9f/1d69c/e667262866da392a.png\"\n        srcset=\"/static/be0e9f7b725ec9e9eafbd869c6545a9f/4dcb9/e667262866da392a.png 188w,\n/static/be0e9f7b725ec9e9eafbd869c6545a9f/5ff7e/e667262866da392a.png 375w,\n/static/be0e9f7b725ec9e9eafbd869c6545a9f/1d69c/e667262866da392a.png 750w,\n/static/be0e9f7b725ec9e9eafbd869c6545a9f/78797/e667262866da392a.png 1125w,\n/static/be0e9f7b725ec9e9eafbd869c6545a9f/aa440/e667262866da392a.png 1500w,\n/static/be0e9f7b725ec9e9eafbd869c6545a9f/00fb1/e667262866da392a.png 2762w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\">接下来看一个更复杂的例子，把自定义主题的配置中修改为如下内容。</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// .storybook/MyTheme.js\n\nimport { create } from &#39;@storybook/theming&#39;;\n\nexport default create({\n  base: &#39;light&#39;,\n\n  colorPrimary: &#39;hotpink&#39;,\n  colorSecondary: &#39;deepskyblue&#39;,\n\n  // UI\n  appBg: &#39;white&#39;,\n  appContentBg: &#39;silver&#39;,\n  appBorderColor: &#39;grey&#39;,\n  appBorderRadius: 4,\n\n  // Typography\n  fontBase: &#39;&quot;Open Sans&quot;, sans-serif&#39;,\n  fontCode: &#39;monospace&#39;,\n\n  // Text colors\n  textColor: &#39;black&#39;,\n  textInverseColor: &#39;rgba(255,255,255,0.9)&#39;,\n\n  // Toolbar default and active colors\n  barTextColor: &#39;silver&#39;,\n  barSelectedColor: &#39;black&#39;,\n  barBg: &#39;hotpink&#39;,\n\n  // Form colors\n  inputBg: &#39;white&#39;,\n  inputBorder: &#39;silver&#39;,\n  inputTextColor: &#39;black&#39;,\n  inputBorderRadius: 4,\n\n  brandTitle: &#39;My custom storybook&#39;,\n  brandUrl: &#39;https://example.com&#39;,\n  brandImage: &#39;https://place-hold.it/350x150&#39;,\n  brandTarget: &#39;_self&#39;,\n});</code>\n        </deckgo-highlight-code>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/50db4697f03daf8d5376d7437dfe380d/b918a/e81677332a16d08a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.91489361702128%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsklEQVQoz5WS22/SABSH+/8nxhfjMjWKTz4sJRgmW0vvbEIvU9kGZQ57WWnBLCZc5gPh8mnLeHJD/SVfzsM5+ZKTc4QoiqnLMtntiB/nIedP3xOXDJKSRfL2npLF4M3DpHl9bRLuK4yqnxBmsxlZljGfz4mTGw6PakhKHVXXCpT7+hDbnqKp1KRjbNdFGE8m5NI8cRyj1OtYloVhGP+MaZjouo7neQiT2R3T6bQQ3sQxsiRj5oO6/h8YaKqK53oIt+MpUTIohNEgQTZUtFMTtWGgnuSYfyWfrzd0nM8egpT9RAzHVO9AP7nmy5MDuq9k/JcS/gsJf++I7vPabvaO6Dw7JBBPEVarFduEFz0+7L/Dq2g4ZQVXVGhXDK4km95xazeSQ795ibBcLtlKgyhErFaKNeqWTsNpcvHV5zoJiUcp0XDwKPH3lKugvxGut8JvAWWxvLmaptH82KTb6RKFEVmakQ7SRxmmGf3+Vrheb1YOAkRRRFVVFEUp3id/hXa7Ta/Xw/f9nXQ6HYTFYkEuzZNlQ1qtFt7ZGa7n4boejuNiOw62beO4Lo7j/InrFv3L38Jf/SrvD72WOSwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"e81677332a16d08a\"\n        title=\"e81677332a16d08a\"\n        src=\"/static/50db4697f03daf8d5376d7437dfe380d/1d69c/e81677332a16d08a.png\"\n        srcset=\"/static/50db4697f03daf8d5376d7437dfe380d/4dcb9/e81677332a16d08a.png 188w,\n/static/50db4697f03daf8d5376d7437dfe380d/5ff7e/e81677332a16d08a.png 375w,\n/static/50db4697f03daf8d5376d7437dfe380d/1d69c/e81677332a16d08a.png 750w,\n/static/50db4697f03daf8d5376d7437dfe380d/78797/e81677332a16d08a.png 1125w,\n/static/50db4697f03daf8d5376d7437dfe380d/aa440/e81677332a16d08a.png 1500w,\n/static/50db4697f03daf8d5376d7437dfe380d/b918a/e81677332a16d08a.png 2780w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 class=\"heading subtitle heading\" id=\"使用模板开发更强的主题\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF%E5%BC%80%E5%8F%91%E6%9B%B4%E5%BC%BA%E7%9A%84%E4%B8%BB%E9%A2%98\" aria-label=\"使用模板开发更强的主题 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用模板开发更强的主题</h2>\n<p class=\"para\">Storybook的主题API接口设计得将将好，满足大部分基础的功能。虽然方便，但是也有所限制。如果你想更加细粒度地控制样式，需要给UI和文档的组件添加Class。</p>\n<p class=\"para\">想给这些元素增加样式，可以把样式标签插入到：</p>\n<ul>\n<li>\n<p class=\"para\">Storybook 的 UI，使用 <code>.storybook/manager-head.html</code></p>\n</li>\n<li>\n<p class=\"para\">Storybook 的文档，使用 <code>.storybook/preview-head.html</code></p>\n</li>\n</ul>\n<h2 class=\"heading subtitle heading\" id=\"覆盖-MDX-组件\" style=\"position:relative;\"><a href=\"#%E8%A6%86%E7%9B%96-MDX-%E7%BB%84%E4%BB%B6\" aria-label=\"覆盖 MDX 组件 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>覆盖 MDX 组件</h2>\n<p class=\"para\">如果你是用MDX格式编写文档，可以使用components的parameter参数，在Markdown中覆盖重写渲染组件。这是一个高级用法，在Storybook中不会正式支持。</p>\n<p class=\"para\">要想使用这个特性，你只需要修改 <code>.storybook/preview.js</code>。</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// .storybook/preview.js\n\nimport React from &#39;react&#39;;\n\nconst CodeBlock = ({ children }) =&gt; {\n  return (\n    &lt;div&gt;\n      &lt;h3&gt;Custom CodeBlock Title&lt;/h3&gt;\n      &lt;div&gt;\n        {children}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  )\n}\n\nexport const parameters = {\n  docs: {\n    components: {\n      code: CodeBlock,\n    },\n  },\n};</code>\n        </deckgo-highlight-code>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b6f442e215b0b854b32e9637d9fcca4c/d50e7/4ae1ae7c9b0daa7e.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.02127659574468%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAm0lEQVQ4y+3S0QrDIAwFUP//HxWHOlP2aC2sNbmjwkZHbQtdHxe4L4YcQlBxKQjdAzcf0REhhAAiQowR3nvkvsdcIrIbQFCYoVgEFO8wWsMYA611RZ1zsNYipfQBt+rdYhYoZkbOPYaca9oDcrjlFziNY3No7i3ftzdcgg3oCNgHWeoRzkDb4EnoD67BX7L6NldUBcep4Ko8p4IXcd4E6J1/l7AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4ae1ae7c9b0daa7e\"\n        title=\"4ae1ae7c9b0daa7e\"\n        src=\"/static/b6f442e215b0b854b32e9637d9fcca4c/1d69c/4ae1ae7c9b0daa7e.png\"\n        srcset=\"/static/b6f442e215b0b854b32e9637d9fcca4c/4dcb9/4ae1ae7c9b0daa7e.png 188w,\n/static/b6f442e215b0b854b32e9637d9fcca4c/5ff7e/4ae1ae7c9b0daa7e.png 375w,\n/static/b6f442e215b0b854b32e9637d9fcca4c/1d69c/4ae1ae7c9b0daa7e.png 750w,\n/static/b6f442e215b0b854b32e9637d9fcca4c/78797/4ae1ae7c9b0daa7e.png 1125w,\n/static/b6f442e215b0b854b32e9637d9fcca4c/aa440/4ae1ae7c9b0daa7e.png 1500w,\n/static/b6f442e215b0b854b32e9637d9fcca4c/d50e7/4ae1ae7c9b0daa7e.png 2280w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\">你甚至还可以重写 Storybook 的组件。</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// .storybook/preview.js\n\nimport { MyCanvas } from &#39;./MyCanvas&#39;;\n\nexport const parameters = {\n  docs: {\n    components: {\n      Canvas: MyCanvas,\n    },\n  },\n};</code>\n        </deckgo-highlight-code>\n<h2 class=\"heading subtitle heading\" id=\"结束语\" style=\"position:relative;\"><a href=\"#%E7%BB%93%E6%9D%9F%E8%AF%AD\" aria-label=\"结束语 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>结束语</h2>\n<p class=\"para\">Storybook提供了轻量级的主题API，我们可以使用这些API快速定制文档的样式。如果想对样式有更细粒度的掌控，还可以使用其提供的模板能力对样式进行更强的定制。除了样式，Storybook还支持自定义文档的渲染组件。如果你对文档有自己独特的设计思考，可以利用其能力，拓展出属于自己的独一无二的文档。</p>","tableOfContents":"<ul>\n<li><a href=\"#%E4%BF%AE%E6%94%B9-storybook-ui-%E5%B8%83%E5%B1%80manager\">修改 Storybook UI 布局(manager)</a></li>\n<li><a href=\"#%E8%AE%BE%E7%BD%AE%E5%86%85%E7%BD%AE%E4%B8%BB%E9%A2%98\">设置内置主题</a></li>\n<li><a href=\"#%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E4%B8%BB%E9%A2%98\">创建自己的主题</a></li>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF%E5%BC%80%E5%8F%91%E6%9B%B4%E5%BC%BA%E7%9A%84%E4%B8%BB%E9%A2%98\">使用模板开发更强的主题</a></li>\n<li><a href=\"#%E8%A6%86%E7%9B%96-mdx-%E7%BB%84%E4%BB%B6\">覆盖 MDX 组件</a></li>\n<li><a href=\"#%E7%BB%93%E6%9D%9F%E8%AF%AD\">结束语</a></li>\n</ul>","headings":[{"id":"修改-Storybook-UI-布局manager","depth":2,"value":"修改 Storybook UI 布局(manager)"},{"id":"设置内置主题","depth":2,"value":"设置内置主题"},{"id":"创建自己的主题","depth":2,"value":"创建自己的主题"},{"id":"使用模板开发更强的主题","depth":2,"value":"使用模板开发更强的主题"},{"id":"覆盖-MDX-组件","depth":2,"value":"覆盖 MDX 组件"},{"id":"结束语","depth":2,"value":"结束语"}],"frontmatter":{"title":"Storybook 使用手册——自定义主题","date":"2022-07-08","cover":"","description":null,"categories":["技术研究"],"tags":["JavaScrtipt","Storybook"]}},"previous":{"fields":{"slug":"/blogs/使用 Style Dictionary 管理 Design Token/"},"frontmatter":{"title":"使用 Style Dictionary 管理 Design Token"}},"next":{"fields":{"slug":"/blogs/浅谈 Design Token/"},"frontmatter":{"title":"浅谈 Design Token","tags":["CSS","架构"],"categories":["解决方案"],"status":"publish"}}},"pageContext":{"id":"2113b3f4-646d-5f8a-99ef-4ee001ef8fa8","previousPostId":"f60293b8-cc41-5bec-babb-732a1d0003f8","nextPostId":"2eaa1648-ba45-575b-ba9b-4ceb01219ffe"}},
    "staticQueryHashes": ["2841359383"]}