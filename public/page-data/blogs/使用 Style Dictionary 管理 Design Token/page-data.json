{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blogs/使用 Style Dictionary 管理 Design Token/",
    "result": {"data":{"site":{"siteMetadata":{"title":"张小伦的网络日志","description":"欢迎来到张小伦的网络日志 \n\t\t一个记录生活，分享心得的博客","menu":[{"id":"home","name":"首页","url":"/"},{"id":"blog","name":"博文","url":"/blogs"},{"id":"category","name":"分类","url":"/categories"},{"id":"archive","name":"归档","url":"/archives"},{"id":"lab","name":"实验室","url":"/labs"},{"id":"about","name":"关于我","url":"/about"}]}},"markdownRemark":{"id":"f60293b8-cc41-5bec-babb-732a1d0003f8","html":"<p class=\"para\">在之前的文章中，我介绍了Design Token 相关的基本概念。本文将介绍如何使用现有的工具来管理 Design Token。</p>\n<h2 class=\"heading subtitle heading\" id=\"什么是Style-Dictionary\" style=\"position:relative;\"><a href=\"#%E4%BB%80%E4%B9%88%E6%98%AFStyle-Dictionary\" aria-label=\"什么是Style Dictionary permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>什么是Style Dictionary</h2>\n<p class=\"para\">社区上处理和解析Design Token的工具很多，这有一个<a href=\"https://github.com/sturobson/Awesome-Design-Tokens#tools\" class=\"link-underline\">可参考的目录</a>。比较受欢迎的有 <a href=\"https://github.com/amzn/style-dictionary\" class=\"link-underline\">Style Dictionary</a>、<a href=\"https://github.com/salesforce-ux/theo\" class=\"link-underline\">Theo</a> 等。我选择 Style Dictionary，因为社区受关注度更高，更新也比较及时，最近正在<a href=\"https://github.com/amzn/style-dictionary/issues/643\" class=\"link-underline\">计划做4.0版本</a>。</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/95900e9680cb7c5bb765e491671a24d3/077b7/6df5a35a51e08dd7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.5531914893617%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlklEQVQ4y5VSy07CQBTlD/0Hd4SNe3euTVwY3bgkaqJGNhqNRigVMYiIvKEt70d5GGinpS24OGYGShDLw8XJuZ3enDlzz3WVzSHmUTJ0BrumXLWMX9/zPYtwOQnaTIUox5U+iguXbCw4EzOHSGsKvCURB+kE+G4bjZG5UmylQ8nQ4StL2I+9wR3i4OYDOMqm/u+QNtYsA+9qH+fJBA45Dp5XHp7nALa5R9w162iOrdkINnYo6ARJTUGcDHBSyGInzGPvIwp/u8WevlbQKcHqFLuRMLZufDjOpdkoyg6b4Ohw8aeddKjXwXW1hIJOZiu0bH3+OJR0DaJGIOkExaEGgaioDHXUjUkPfSo9X5syczMy8SnL8N77cfrA4TYax2UwjIvgC86eeFZf8WH4QhHEGg1Ux+Z6hxS5QR/JToe5E4iCgqpAUBXkB33klQEyXz1WV6aLv3KGttPat8WYYTzh2thiNWUnsSUzJEi0mkh1ZKS7bWR6XcYUqbaMpNxiLGnq6pTn10DUVEg0mGk4NkSiMiF6vmxtfgBHtQ3ZOnDBAQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"6df5a35a51e08dd7\"\n        title=\"6df5a35a51e08dd7\"\n        src=\"/static/95900e9680cb7c5bb765e491671a24d3/1d69c/6df5a35a51e08dd7.png\"\n        srcset=\"/static/95900e9680cb7c5bb765e491671a24d3/4dcb9/6df5a35a51e08dd7.png 188w,\n/static/95900e9680cb7c5bb765e491671a24d3/5ff7e/6df5a35a51e08dd7.png 375w,\n/static/95900e9680cb7c5bb765e491671a24d3/1d69c/6df5a35a51e08dd7.png 750w,\n/static/95900e9680cb7c5bb765e491671a24d3/78797/6df5a35a51e08dd7.png 1125w,\n/static/95900e9680cb7c5bb765e491671a24d3/077b7/6df5a35a51e08dd7.png 1166w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\">Style Dictionary 是一个<strong>构建系统</strong>。使用它可以让你一次性定义风格，供任何平台或语言使用。在一个地方可以创建和编辑你的样式，通过一个命令就可以把这些规则导出到你需要的所有地方，iOS、Android、CSS、JS、HTML、Sketch 文件、样式文档，或者任何你能想得到的地方。它可以通过npm作为CLI使用，也可以像普通的Node.js模块一样使用。</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/69e65d81c1d92a940b633cfd8ac04075/d7e70/c2866a2e5a48303b.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.51063829787234%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB60lEQVQoz52TS2/TQBSF+5v5DYhKFUuQWCAWIFZdEAkhQIKG0pbSUonEeTRxqjZjx3ZsE8eJa3vccfqhcZqq5SkY6eh65hwdX825s5bnOf+LLMuqWuQ5pZTIPGftdyJdb+EGv4Lez8/P+ey6vBcWUZKwtiLSNL1ltvqzvLGvdFlWQZ9pLi0Knvf6rB98wRj7yw41WZYlSqnKOM8y5ucpwWxGnCRcSHltUsoCiqLqWGuPTZMX5oDHTYNuGC471EadTofhcIgqSy6Voh0EPB2c8LDVYRCGLJQCpXjr2LwcWVCW+IHPcb/PvuvxbigIZ7OloV61Wg3DMJBFgXV2xqGweHBwyMbHHfZsm7HrEnoer90Rd7pN4jjGaDZxfZ/NwQn3D4/o6Q6TJCEIAiaTCVEUMXIcHCHYHwo2dna5t1Xnkz0i8DzMwYBpFBFMI4QQbG9vY7kuz5oG61t12ivDRqNBt9ul1WphmiaXiwVOHHPkjTka+4hJRKkUvV6v0rYMo9JZQjCdzdhzHLZsGz+Ol6EURYHUcyRl9a0D0AkvpKxQhZKm17yuF0rheR5Gu80rIXjUNDj9Nlne4Y9YJX9zRH41m3ps5lnGk68N7tY/YAThnw3/Bq1L0pRdy+bN6Skiin5+Kf/y5Kp6dT3FFfcdKK2FK/iPLF4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"c2866a2e5a48303b\"\n        title=\"c2866a2e5a48303b\"\n        src=\"/static/69e65d81c1d92a940b633cfd8ac04075/1d69c/c2866a2e5a48303b.png\"\n        srcset=\"/static/69e65d81c1d92a940b633cfd8ac04075/4dcb9/c2866a2e5a48303b.png 188w,\n/static/69e65d81c1d92a940b633cfd8ac04075/5ff7e/c2866a2e5a48303b.png 375w,\n/static/69e65d81c1d92a940b633cfd8ac04075/1d69c/c2866a2e5a48303b.png 750w,\n/static/69e65d81c1d92a940b633cfd8ac04075/78797/c2866a2e5a48303b.png 1125w,\n/static/69e65d81c1d92a940b633cfd8ac04075/d7e70/c2866a2e5a48303b.png 1286w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 class=\"heading subtitle heading\" id=\"简单案例快速上手\" style=\"position:relative;\"><a href=\"#%E7%AE%80%E5%8D%95%E6%A1%88%E4%BE%8B%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B\" aria-label=\"简单案例快速上手 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>简单案例，快速上手</h2>\n<p class=\"para\">为了帮助开发者快速上手，官方很贴心地提供了<a href=\"https://github.com/amzn/style-dictionary/tree/main/examples/\" class=\"link-underline\">一些实例</a>。让我们来看一下简单的实例，从中了解Style Dictionary 到底做了什么事情。随便找个目录，执行以下命令。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">mkdir</span> MyStyleD\n$ <span class=\"token builtin class-name\">cd</span> MyStyleD\n$ style-dictionary init basic</code></pre></div>\n<p class=\"para\">这个命令先将仓库中的<a href=\"https://github.com/amzn/style-dictionary/tree/main/examples/basic\" class=\"link-underline\">实例文件</a>复制到本地目录，然后执行 <code class=\"language-text\">style-dictionary build</code>\n，生成构建的产出物。不出意外的话，你会在你的控制台中看到这些输出：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Copying starter files<span class=\"token punctuation\">..</span>.\n\nSource style dictionary starter files created<span class=\"token operator\">!</span>\n\nRunning <span class=\"token variable\"><span class=\"token variable\">`</span>style-dictionary build<span class=\"token variable\">`</span></span> <span class=\"token keyword\">for</span> the first <span class=\"token function\">time</span> to generate build artifacts.\n\n\nscss\n✔︎ build/scss/_variables.scss\n\nandroid\n✔︎ build/android/font_dimens.xml\n✔︎ build/android/colors.xml\n\ncompose\n✔︎ build/compose/StyleDictionaryColor.kt\n✔︎ build/compose/StyleDictionarySize.kt\n\nios\n✔︎ build/ios/StyleDictionaryColor.h\n✔︎ build/ios/StyleDictionaryColor.m\n✔︎ build/ios/StyleDictionarySize.h\n✔︎ build/ios/StyleDictionarySize.m\n\nios-swift\n✔︎ build/ios-swift/StyleDictionary+Class.swift\n✔︎ build/ios-swift/StyleDictionary+Enum.swift\n✔︎ build/ios-swift/StyleDictionary+Struct.swift</code></pre></div>\n<p class=\"para\">这意味着你已经成功运行了这个实际的例子。回头看看当前你操作的文件目录，它应该长这样：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">├── README.md\n├── config.json\n├── tokens/\n│   ├── color/\n│       ├── base.json\n│       ├── font.json\n│   ├── size/\n│       ├── font.json\n├── build/\n│   ├── android/\n│      ├── font_dimens.xml\n│      ├── colors.xml\n│   ├── compose/\n│      ├── StyleDictionaryColor.kt\n│      ├── StyleDictionarySize.kt\n│   ├── scss/\n│      ├── _variables.scss\n│   ├── ios/\n│      ├── StyleDictionaryColor.h\n│      ├── StyleDictionaryColor.m\n│      ├── StyleDictionarySize.h\n│      ├── StyleDictionarySize.m\n│   ├── ios-swift/\n│      ├── StyleDictionary.swift\n│      ├── StyleDictionaryColor.swift\n│      ├── StyleDictionarySize.swift</code></pre></div>\n<p class=\"para\">Style Dictionary 由配置驱动，必须包含一份config.json和配置中引用的design token对应的文件。</p>\n<ul>\n<li>\n<p class=\"para\"><strong>config.json</strong>：style dictionary 依赖的配置。告诉 style dictionary去哪里找design tokens，以及如何转换和格式化输出文件。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"source\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"tokens/**/*.json\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"platforms\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"scss\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"transformGroup\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"scss\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"prefix\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sd\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"buildPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"build/scss/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"destination\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"_variables.scss\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"format\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"scss/variables\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"actions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"copy_assets\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"android\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"transforms\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t\t\t<span class=\"token string\">\"attribute/cti\"</span><span class=\"token punctuation\">,</span> \n\t\t\t\t<span class=\"token string\">\"name/cti/snake\"</span><span class=\"token punctuation\">,</span> \n\t\t\t\t<span class=\"token string\">\"color/hex\"</span><span class=\"token punctuation\">,</span> \n\t\t\t\t<span class=\"token string\">\"size/remToSp\"</span><span class=\"token punctuation\">,</span> \n\t\t\t\t<span class=\"token string\">\"size/remToDp\"</span>\n\t\t\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"buildPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"build/android/src/main/res/values/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"destination\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"style_dictionary_colors.xml\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"format\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"android/colors\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p class=\"para\"><strong>design tokens</strong>： 定义了 design token的一系列JSON或者JavaScript Module文件。会在config.json 中的source属性中使用。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"size\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"font\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"small\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10px\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"medium\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"16px\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"large\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"24px\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"xl\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"34px\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"xxl\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"46px\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"base\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{size.font.medium.value}\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"attributes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"comment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"All about that base\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"heading\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"1\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{size.font.xxl.value}\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"2\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{size.font.xl.value}\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h2 class=\"heading subtitle heading\" id=\"Style-Dictionary-的架构\" style=\"position:relative;\"><a href=\"#Style-Dictionary-%E7%9A%84%E6%9E%B6%E6%9E%84\" aria-label=\"Style Dictionary 的架构 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Style Dictionary 的架构</h2>\n<p class=\"para\">为了更好地理解style dictionary的能力和工作原理，让我们来看看它的架构设计。下面是官方给到的架构图。</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/055f070ca67b4c60cd016f2428a30a15/07a9c/9220f79327689e5b.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.27659574468085%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAETUlEQVQ4yz2Ta0xTBxiGP9mwlMtgpZRbnJSLQin00EXKaQXpKUVgILcOpNRyp6XUIkK5SRnOIQOHEygIhVYi4JhTs7GFiyK9nbaCaOY2HBlmZFuMZFuMS9wPf52F82M/vnzJ++NJvu99X0BQzBdBsRAExRgJPOE+TlAkCIh/Ae4vAM+6Ct8SBKgbZ0BzYlTWKjfttJQarUpuX5D63ByUETsQvLIE3rZ7AKXhAKOXABAUextBMQ8ExajI0TS35AkD5D1e3wcLd9xlFus7U7YN2jjxwutc962s7sYvPu3Szul0E4tRN3/f9hmwr9PYd5c8wbzwFkEQAH06EuiPoBhzb3PE2Qyfl39AIL7KinZZN7lr9t0Ih3mW5bSuI4+dv3ltOXoO/uSc5z7Ed8Nw80ysy7qRsGb/M8xhnjr+ZANIKMLHfBA+Rkf4mB9HmOEVuPgNMBeXfVm4JSPFhX+Y4rClHl13ZOavWNXS6UV18Vd3m7McDjnqsqekuvCcJKe9MNy6mkiAGySCDADhiQI4iaJATqKIhhwReWeDL5Q2zULh5Hcgvb0CQDyFENU4dGaPKrrKp16fkxo3jXGfhUDZRUCcNpDNLEPe0Neg+kAPipwRgHhOOj2eI47gIOn0eETsU+k+BppiQ3Sn5oawt/sOe2Vry/sR8Zdnl3Yu/uPGufouzY2SQcMy4+Gr556G6VXG+ZYvj7UqrgsU2XqaIltPnuyH8DF2Al/EihMIAkVRbdSm0km8WzX7pqFofLiz9jq0VphAmaOv09VO/609Zfz+pKCfqZZchZqsobj2yqkdnWL6tfKEvqYud4Q0hUpGJ0lESUDT9jtuPYeqzCs0peTzCEGglsqlKwGABbnsXor65FBkeWZfKBBAGrA3pcI+hqpokClmfuQuZLaRwL3IBHH54uDII4hXbZbeo1k2aWstu/bPWenEgKnfDM0yI5yVTpxukZteaU8Zf6zL00edllyF+sJRdovc9HOL3PTyTPF4dZPUSALJieUJgIuKISb2mJuq6AqnQTqSVpPfH7Y2TECPYh4q83uCNSV6rL54KPF4cq1HTUE/5Ag1VHXxUFKDdERYmdsbcKF6ngRSEBQL5vLTguL5yQEpEU2UJrnJ0KGYwTXSyTO9sjGoLhgClWRc0qGYtjWXX7tZVWAIrcgdhtrCMaa2Yup2e+20rU4ylqsqGiOB3nvVS0BF9Hh+ir+AI6W2iC6Xt2cM6tqRC6nKFwTA+wCapE94HRmD7W2pAwqlV6k/AQ44T9P6dfL7q7tTLzd2si/G6Ni9/1fPk5MsptTQeOSj6b8606K2H1TRfrAWR95b8nMjdoG6ZWUdevagMvgXp5yBL7P9t9eB/shy+L1Nhy5q03np3ac432/TTgL3IyhGR1LSA3gHYqiUDdw9Ajc/YTttBBM3Pwt1mhnhlhVg4ua+PS3aYXlzwGGWHLTd39OSElz2BcRltx/CLSWHcQv8B1Dlt5y62P0LAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"9220f79327689e5b\"\n        title=\"9220f79327689e5b\"\n        src=\"/static/055f070ca67b4c60cd016f2428a30a15/1d69c/9220f79327689e5b.png\"\n        srcset=\"/static/055f070ca67b4c60cd016f2428a30a15/4dcb9/9220f79327689e5b.png 188w,\n/static/055f070ca67b4c60cd016f2428a30a15/5ff7e/9220f79327689e5b.png 375w,\n/static/055f070ca67b4c60cd016f2428a30a15/1d69c/9220f79327689e5b.png 750w,\n/static/055f070ca67b4c60cd016f2428a30a15/78797/9220f79327689e5b.png 1125w,\n/static/055f070ca67b4c60cd016f2428a30a15/07a9c/9220f79327689e5b.png 1440w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\">一图胜千言，这张图已经很直观地展示其工作原理。</p>\n<ul>\n<li>\n<p class=\"para\">第一步：解析配置文件。</p>\n</li>\n<li>\n<p class=\"para\">第二步：找到所有 token 文件。config中的 <code class=\"language-text\">include</code> 和 <code class=\"language-text\">source</code> 组合决定了搜索查找的范围。</p>\n</li>\n<li>\n<p class=\"para\">第三步：将所有的token文件进行一个深度合并。相同的结构将会覆盖。</p>\n</li>\n<li>\n<p class=\"para\">第四步：遍历config中定义所有platform，执行一下操作：</p>\n<ul>\n<li>\n<p class=\"para\">执行 token转换，提取token中的value。这会深度遍历每一个对象，直到找到<code class=\"language-text\">value</code>这个key。</p>\n</li>\n<li>\n<p class=\"para\">解析别名和引用。找到<code class=\"language-text\">value</code>之后，如果其值是别名或者引用，比如<code class=\"language-text\">\"{size.font.base.value}”</code> ，就用转换后的值替换之。</p>\n</li>\n<li>\n<p class=\"para\">根据每一个platform配置中的format格式，输出不同的文件。</p>\n</li>\n<li>\n<p class=\"para\">在输出文件之后，还可以执行自定义的Actions。</p>\n</li>\n</ul>\n</li>\n</ul>\n<p class=\"para\">当上述四个步骤都成功执行并结束后，你就能得到你想要的输出产物了。</p>\n<h2 class=\"heading subtitle heading\" id=\"与设计师协作\" style=\"position:relative;\"><a href=\"#%E4%B8%8E%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%8D%8F%E4%BD%9C\" aria-label=\"与设计师协作 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>与设计师协作</h2>\n<p class=\"para\">在<a href=\"https://zhanglun.xyz/blogs/%E6%B5%85%E8%B0%88%20Design%20Token/#%E5%88%9B%E5%BB%BA%E5%92%8C%E4%BA%A4%E4%BB%98-Design-Token\" class=\"link-underline\">浅谈Design Token</a>中我曾经提到过，设计师可以通过 Figma 等设计工具，以文件的形式将 design token 提供给开发人员。现在，身为开发人员的我们，可以使用 Style Dictionary 对token进行处理，输出我们想要的文件。</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7d403e704858a389438dbada454aea31/898f6/2e013a51a0ba79d7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 160.10638297872342%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAYAAAASYli2AAAACXBIWXMAAAsTAAALEwEAmpwYAAADE0lEQVRIx51WWW4TQRSccyBxMS4A4jx8I0DiEkjI4hdHwgIpjhMvSTz2eJ196Z6lC1U77UzGY8dJS61xb9Xv1av32lav10O328V8PsdsNsNwOMRisQCbUmrfjzWzJoSAlBLWzc0NJpMJXNfFdrvFer2G7/sHh6qqOtq5nue57hYHYRhqdDZ+ucD5NE0Rx7EeNy1uWl+W5Q4wCALQSs/z9KSxkBv55ThJkifutbmcSwEpBKz6YlU9Hmgefc5lUSgUlYLlultcXl5qC9nCIIDnuthsNiiK4tmg0Ksk9PHuB/C1r2ClQiJKUsi80DdkMkcmJMpc7G9vs8h0PVcW+DlVGLgVrGsnwsXVFON1hlkEzGOFSQB8GwCLQKDMZStvh4FRgCpg2dsEQ3uNRSDhZoCbKaxShd6qQiRKCJHBtmc6ONSnbduIomivin2UiacAK/A9OPM5lsvFYyhUBZkE+zFB7u7utFYJRm7Z26y1GFkuklylzAageuDHNMdxdAJQs0wAZhbP1EHZrENunmaH2bhcLjEej3WK8fft7S1Wq9UhYFPx9a/pdNVkS5uo67KyTm0yLjNjWDgYmCzLNHgzKGcDmjED0+/3wVQ1VYkBOslhm8sEJW88TNc5JigzyWTX2YDGZZJPwHrUm/tfxCE5o5vT6VRbx05r24rw2RwScDAY6FJGTY5GIx2kV3FIMdcjy0QwhfhVsmFmUMwm7dp0+yJAIxu6TE2ySDC361o8m0PTGQTySDfJHQP0Yg6NhTzIB+vUM7p3+dgrVgfky0eLyKN5CSmd1vKFE60uGwI2U4+ZwtWyUo8F9tjTWOeQqceiQPmwUYsEjuLYXP1QjBUsFkm6Yf5K8LsrtjtQzhGMc6ZSl2UFIXMN8P1K4UNH4X1HoWM/AFL1lAXd4qNP0LpcmBm8lC6bEnY1uEbmr/HxF/D2i8Kbz8Cnv+ATULVyZ/qxaJo2S4DuErhYAetUHUa5+e7Wo51luzIW+in6f+7x7/cI8+ECW+ce3tKGSOPTUW77l1AUOaQosHUibJwI/iaF6/kIo1hf9h/Udr+eTBkZMQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2e013a51a0ba79d7\"\n        title=\"2e013a51a0ba79d7\"\n        src=\"/static/7d403e704858a389438dbada454aea31/1d69c/2e013a51a0ba79d7.png\"\n        srcset=\"/static/7d403e704858a389438dbada454aea31/4dcb9/2e013a51a0ba79d7.png 188w,\n/static/7d403e704858a389438dbada454aea31/5ff7e/2e013a51a0ba79d7.png 375w,\n/static/7d403e704858a389438dbada454aea31/1d69c/2e013a51a0ba79d7.png 750w,\n/static/7d403e704858a389438dbada454aea31/898f6/2e013a51a0ba79d7.png 798w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\">我们将所有的tokens文件托管到内部的gitlab仓库中。设计师定义好token之后，将文件上传到仓库，然后告知到对应的工程师。工程师使用基于Node.js开发的脚本，实现token的下载和转换输出。</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3da68ed3ebe451cb1af3bdb88f8856c0/7db30/259287b2332e8261.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.85106382978723%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVQoz62SS2vbQBSF/f//RJddtKakCyeblq5KUoPBIRCTuJYVW7Fk2XqMRjN6jb4yUlqZxHRReuAIiTv65s6ZOwIIw7DzIMO/amQfjuPgrl2qqiIKIxaXXwl2Hg+PjywWC4IgIE1TJpMJ4/GYzxcXZDJHHgPkzRVJHBEnAqV0DzwcDhyPR4pCczhEzJ8idFngbbdsNpuuHscxs9ms83Q6RcgclYTou2/ITCAyidKaUVmWLJfLrsv/oVFd1/i+z263o2ka2hZM29K+2BjT+/TdmD/11gx52+/RKb09Af32a71ZYwzH+w3Sj4ZLsd3Z4M9JG0NcFsi6Rpvm7JoqSGlVOQBd18XzPGyeSqku3EJrwiTB1YqPzk/eO0u8QiOkJM9zsiwjFYI0Tfhw+Z3x1fUAtCMhhOjGxgL1CzDJMhwhmPs+P56f2aqc3G6oFFLK7h+V50xn98zvlj3Q7rZer1mtVh3wzXGahqKsqKqa2pwf+HfjgE9f4h5ou9nv912G9sivg//bpRjT129uNbcPfYa/ACKWT5v01BgyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"259287b2332e8261\"\n        title=\"259287b2332e8261\"\n        src=\"/static/3da68ed3ebe451cb1af3bdb88f8856c0/1d69c/259287b2332e8261.png\"\n        srcset=\"/static/3da68ed3ebe451cb1af3bdb88f8856c0/4dcb9/259287b2332e8261.png 188w,\n/static/3da68ed3ebe451cb1af3bdb88f8856c0/5ff7e/259287b2332e8261.png 375w,\n/static/3da68ed3ebe451cb1af3bdb88f8856c0/1d69c/259287b2332e8261.png 750w,\n/static/3da68ed3ebe451cb1af3bdb88f8856c0/78797/259287b2332e8261.png 1125w,\n/static/3da68ed3ebe451cb1af3bdb88f8856c0/7db30/259287b2332e8261.png 1494w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 class=\"heading subtitle heading\" id=\"使用-Node-API-增强定制能力\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8-Node-API-%E5%A2%9E%E5%BC%BA%E5%AE%9A%E5%88%B6%E8%83%BD%E5%8A%9B\" aria-label=\"使用 Node API 增强定制能力 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用 Node API 增强定制能力</h2>\n<p class=\"para\">style dictionary 提供了比较强大的 Node API，你可以使用这些API实现一些更复杂的能力，满足更多的需求场景，这里是<a href=\"https://amzn.github.io/style-dictionary/#/api\" class=\"link-underline\">API的文档</a>，感兴趣的朋友可以仔细阅读。接下来我会结合实际案例，向大家演示如何使用Node API。</p>\n<p class=\"para\">先从一个简单的例子开始，新建一个JavaScript文件。引入依赖之后，调用<code class=\"language-text\">extend</code> 传入配置。然后调用返回实例的<code class=\"language-text\">buildAllPlatforms</code> 方法。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// build.js</span>\n<span class=\"token keyword\">const</span> StyleDictionary <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'style-dictionary'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token string\">'config.json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nStyleDictionary<span class=\"token punctuation\">.</span><span class=\"token function\">buildAllPlatforms</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p class=\"para\">extend方法的参数可以是一个文件路径，也可以是个对象。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// build.js</span>\n<span class=\"token keyword\">const</span> StyleDictionary <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'style-dictionary'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">source</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'properties/**/*.json'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">platforms</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">scss</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">transformGroup</span><span class=\"token operator\">:</span> <span class=\"token string\">'scss'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">buildPath</span><span class=\"token operator\">:</span> <span class=\"token string\">'build/'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">files</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">destination</span><span class=\"token operator\">:</span> <span class=\"token string\">'variables.scss'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">format</span><span class=\"token operator\">:</span> <span class=\"token string\">'scss/variables'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nStyleDictionary<span class=\"token punctuation\">.</span><span class=\"token function\">buildAllPlatforms</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p class=\"para\">你可以多次调用extend和buildAllPlatforms方法，可以用在输出嵌套主题或者多品牌主题等类似的场景。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// build.js</span>\n<span class=\"token keyword\">const</span> StyleDictionary <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'style-dictionary'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> brands <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">brand-1</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">brand-2</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">brand-3</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nbrands<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">brand</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  StyleDictionary<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">include</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">tokens/default/**/*.json</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">source</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">tokens/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>brand<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/**/*.json</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">buildAllPlatforms</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p class=\"para\">假设下面是我们的 token.json。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// token.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"sizing\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"10\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"12\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"12\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"14\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"14\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"16\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"16\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"18\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"18\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"20\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"20\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"22\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"22\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"24\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"24\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"28\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"28\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"32\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"32\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"36\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"36\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"40\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"40\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"48\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"48\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p class=\"para\">先创建Style Dictionary 需要的 config.json。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// config.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"source\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"./token.json\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"platforms\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"scss\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"transformGroup\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"scss\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"buildPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"build/scss/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"destination\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing.scss\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"format\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"scss/variables\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p class=\"para\">然后试着执行 <code class=\"language-text\">node build.js</code> 。不出意外的话，执行结束之后，会在当前目录中创建 <code class=\"language-text\">build/sizing.scss</code> 。</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token comment\">// Do not edit directly</span>\n<span class=\"token comment\">// Generated on Thu, 04 Aug 2022 07:08:59 GMT</span>\n\n<span class=\"token property\"><span class=\"token variable\">$sizing-10</span></span><span class=\"token punctuation\">:</span> 10<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-12</span></span><span class=\"token punctuation\">:</span> 12<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-14</span></span><span class=\"token punctuation\">:</span> 14<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-16</span></span><span class=\"token punctuation\">:</span> 16<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-18</span></span><span class=\"token punctuation\">:</span> 18<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-20</span></span><span class=\"token punctuation\">:</span> 20<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-22</span></span><span class=\"token punctuation\">:</span> 22<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-24</span></span><span class=\"token punctuation\">:</span> 24<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-28</span></span><span class=\"token punctuation\">:</span> 28<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-32</span></span><span class=\"token punctuation\">:</span> 32<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-36</span></span><span class=\"token punctuation\">:</span> 36<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-40</span></span><span class=\"token punctuation\">:</span> 40<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-48</span></span><span class=\"token punctuation\">:</span> 48<span class=\"token punctuation\">;</span></code></pre></div>\n<p class=\"para\">虽然输出了我们想要的文件，但是文件的内容好像和预期不符，每一个 Scss 变量应该带上单位。要想定制这个输出结果，我们需要使用自定义的Transform。</p>\n<h3 class=\"heading\" id=\"Transform-和-TransformGroup\" style=\"position:relative;\"><a href=\"#Transform-%E5%92%8C-TransformGroup\" aria-label=\"Transform 和 TransformGroup permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Transform 和 TransformGroup</h3>\n<p class=\"para\">Style Dictionary 中的Transform是用来修改token的函数。使用 Transform可以对token的name、value 或者 attribute 进行转换，从而实现适配输出不同平台的能力。比如，将pixel转换成point。可以使用<a href=\"https://amzn.github.io/style-dictionary/#/transforms?id=pre-defined-transforms\" class=\"link-underline\">内置的Transforms</a>，也可以使用<code class=\"language-text\">registerTransform</code>方法注册自定义Transform。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">StyleDictionary<span class=\"token punctuation\">.</span><span class=\"token function\">registerTransform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'time/seconds'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'value'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">matcher</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">token</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> token<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">.</span>category <span class=\"token operator\">===</span> <span class=\"token string\">'time'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">transformer</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">token</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Note the use of prop.original.value,</span>\n    <span class=\"token comment\">// before any transforms are performed, the build system</span>\n    <span class=\"token comment\">// clones the original token to the 'original' attribute.</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">.</span>original<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'s'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p class=\"para\">TransformGroup就是一组Transform。有开箱即用的<a href=\"https://amzn.github.io/style-dictionary/#/transform_groups\" class=\"link-underline\">内置的TransformGroup</a>，也可以通过<code class=\"language-text\">registerTransformGroup</code>方法注册自定义TransformGroup。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">StyleDictionary<span class=\"token punctuation\">.</span><span class=\"token function\">registerTransformGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Swift'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">transforms</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'attribute/cti'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'size/pt'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'name/cti'</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p class=\"para\">为了给sizing加上单位pixel，我们先注册一个自定义 Transform 和 TransformGroup。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">StyleDictionary<span class=\"token punctuation\">.</span><span class=\"token function\">registerTransform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'size/px'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//定义transform的名称，作为引用标记</span>\n  <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'value'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// transform 转换的对象，我们需要转换token对应的值</span>\n  <span class=\"token function-variable function\">matcher</span><span class=\"token operator\">:</span> <span class=\"token parameter\">token</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// token 匹配函数，返回boolean。</span>\n    <span class=\"token keyword\">return</span> token<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'sizing'</span> <span class=\"token operator\">&amp;&amp;</span> token<span class=\"token punctuation\">.</span>value <span class=\"token operator\">!==</span> <span class=\"token number\">0</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">transformer</span><span class=\"token operator\">:</span> <span class=\"token parameter\">token</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// transform函数，接受token，返回想要的内容</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>token<span class=\"token punctuation\">.</span>value<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nStyleDictionary<span class=\"token punctuation\">.</span><span class=\"token function\">registerTransformGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'custom/scss'</span><span class=\"token punctuation\">,</span> \n  <span class=\"token literal-property property\">transforms</span><span class=\"token operator\">:</span> StyleDictionary<span class=\"token punctuation\">.</span>transformGroup<span class=\"token punctuation\">[</span><span class=\"token string\">'scss'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'size/px'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'size/percent'</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p class=\"para\">接着在config.json中使用叫做<code class=\"language-text\">custom/scss</code> 的 TransformGroup。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"source\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"./token.json\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"platforms\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"scss\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"transformGroup\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"custom/scss\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"buildPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"build/scss/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"destination\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sizing.scss\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"format\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"scss/variables\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p class=\"para\">最后检查输出内容。</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token comment\">// Do not edit directly</span>\n<span class=\"token comment\">// Generated on Thu, 04 Aug 2022 07:08:59 GMT</span>\n\n<span class=\"token property\"><span class=\"token variable\">$sizing-10</span></span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-12</span></span><span class=\"token punctuation\">:</span> 12px<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-14</span></span><span class=\"token punctuation\">:</span> 14px<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-16</span></span><span class=\"token punctuation\">:</span> 16px<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-18</span></span><span class=\"token punctuation\">:</span> 18px<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-20</span></span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-22</span></span><span class=\"token punctuation\">:</span> 22px<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-24</span></span><span class=\"token punctuation\">:</span> 24px<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-28</span></span><span class=\"token punctuation\">:</span> 28px<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-32</span></span><span class=\"token punctuation\">:</span> 32px<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-36</span></span><span class=\"token punctuation\">:</span> 36px<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-40</span></span><span class=\"token punctuation\">:</span> 40px<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$sizing-48</span></span><span class=\"token punctuation\">:</span> 48px<span class=\"token punctuation\">;</span></code></pre></div>\n<p class=\"para\">掌握工具的使用，配合自动化脚本，可以让token2css的过程变得非常丝滑流畅。</p>\n<h2 class=\"heading subtitle heading\" id=\"结束语\" style=\"position:relative;\"><a href=\"#%E7%BB%93%E6%9D%9F%E8%AF%AD\" aria-label=\"结束语 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>结束语</h2>\n<p class=\"para\">style dictionary 是一个功能丰富，易于定制和拓展的优秀开源工具。多平台输出的能力，能够帮助我们实现样式的一次定义，多处使用。通过自定义的Transform，你还可以将Design Token导出为ESM，你可以在JavaScript代码中使用。如果你的项目使用了 CSS-in-JavaScript 的技术方案时，这非常有用。团队当前正在和设计团队一起验证基于 Design Token 的协作流程，style dictionary 是必不可少的一环。</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E4%BB%80%E4%B9%88%E6%98%AFstyle-dictionary\">什么是Style Dictionary</a></p>\n</li>\n<li>\n<p><a href=\"#%E7%AE%80%E5%8D%95%E6%A1%88%E4%BE%8B%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B\">简单案例，快速上手</a></p>\n</li>\n<li>\n<p><a href=\"#style-dictionary-%E7%9A%84%E6%9E%B6%E6%9E%84\">Style Dictionary 的架构</a></p>\n</li>\n<li>\n<p><a href=\"#%E4%B8%8E%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%8D%8F%E4%BD%9C\">与设计师协作</a></p>\n</li>\n<li>\n<p><a href=\"#%E4%BD%BF%E7%94%A8-node-api-%E5%A2%9E%E5%BC%BA%E5%AE%9A%E5%88%B6%E8%83%BD%E5%8A%9B\">使用 Node API 增强定制能力</a></p>\n<ul>\n<li><a href=\"#transform-%E5%92%8C-transformgroup\">Transform 和 TransformGroup</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E7%BB%93%E6%9D%9F%E8%AF%AD\">结束语</a></p>\n</li>\n</ul>","headings":[{"id":"什么是Style-Dictionary","depth":2,"value":"什么是Style Dictionary"},{"id":"简单案例快速上手","depth":2,"value":"简单案例，快速上手"},{"id":"Style-Dictionary-的架构","depth":2,"value":"Style Dictionary 的架构"},{"id":"与设计师协作","depth":2,"value":"与设计师协作"},{"id":"使用-Node-API-增强定制能力","depth":2,"value":"使用 Node API 增强定制能力"},{"id":"Transform-和-TransformGroup","depth":3,"value":"Transform 和 TransformGroup"},{"id":"结束语","depth":2,"value":"结束语"}],"frontmatter":{"title":"使用 Style Dictionary 管理 Design Token","date":"2022-07-15","cover":"https://www.notion.so/images/page-cover/rijksmuseum_avercamp_1608.jpg","description":null,"categories":["解决方案"],"tags":["CSS","JavaScrtipt","架构"]}},"previous":{"fields":{"slug":"/blogs/Style Dictionary 和 Design Token 的实战/"},"frontmatter":{"title":"Style Dictionary 和 Design Token 的实战"}},"next":{"fields":{"slug":"/blogs/Storybook 使用手册——自定义主题/"},"frontmatter":{"title":"Storybook 使用手册——自定义主题","tags":["JavaScrtipt","Storybook"],"categories":["技术研究"],"status":"publish"}}},"pageContext":{"id":"f60293b8-cc41-5bec-babb-732a1d0003f8","previousPostId":"57caaa42-5250-53fa-964d-6732d90411ae","nextPostId":"2113b3f4-646d-5f8a-99ef-4ee001ef8fa8"}},
    "staticQueryHashes": ["2841359383"]}