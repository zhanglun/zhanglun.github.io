{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blogs/Storybook 使用手册——基本概念/",
    "result": {"data":{"site":{"siteMetadata":{"title":"张小伦的网络日志","description":"欢迎来到张小伦的网络日志 \n\t\t一个记录生活，分享心得的博客","menu":[{"id":"home","name":"首页","url":"/"},{"id":"blog","name":"博文","url":"/blogs"},{"id":"category","name":"分类","url":"/categories"},{"id":"archive","name":"归档","url":"/archives"},{"id":"lab","name":"实验室","url":"/labs"},{"id":"about","name":"关于我","url":"/about"}]}},"markdownRemark":{"id":"ff9caad0-e896-5bf4-8b65-3ebb8e5aeb59","html":"<h2 class=\"heading subtitle heading\" id=\"什么是Storybook\" style=\"position:relative;\"><a href=\"#%E4%BB%80%E4%B9%88%E6%98%AFStorybook\" aria-label=\"什么是Storybook permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>什么是Storybook</h2>\n<p class=\"para\">Storybook 是一个用于UI开发的开源工具，通过隔离组件，使开发更快、更容易。它提供了一套完整的开发流程，你可以不用配置一个复杂的开发环境、不用和数据库交互，也不需要和你的应用程序关联。</p>\n<p class=\"para\">Storybook可以帮你记录组件的文档，以便重复使用，并自动对你的组件进行视觉测试来防止出现bug。同时Storybook还有一个插件的生态系统来扩展自身的能力，如微调响应式布局或验证可访问性。支持多种前端框架，甚至目前还在进行试验性的支持服务端渲染组件框架。</p>\n<p class=\"para\">当你启动执行 <code>yarn storybook</code> 时，会启动一个dev server，并自动在浏览器中打开一个页面，显示欢迎界面。</p>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9e26acafef8375af74e59b7540484fe9/3b2f8/f7e96e2bf70ae38b.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.04255319148936%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVQ4y51SzW5bZRC9y254AhbJM7CgG4pqJ30Zlk28KU/BkyAhUXXRIiHxDyJyk1u4iUGWfVO7sWP7fv+/c6r53EBU4SwY6Wju6H5zdObMVN99/dWHp8Pvj8dtO2j+bI6bV/WgruvBeDwezGazgslkUur5fD6Yzeal5jd1/YrzcdOcH12MRp8/f/Hio+rsp18fXY0nWCwWEJ3EfGOglIYxBtZaGIYx/9T2Xc1vbkNIiaY5f1J98/Np7+83Kv21MHGmcjA+Rmtt9N5H7100xkQOALsQAFgAaNvLx9UXz4a9L//Y4Ok44tvXRG3bUl3XNBqN6OLigs7OTmk6nVIIgay1Jd+G954Rc86YTtuj6mw47BmlgBSBnEhrjfV6jc1mg+vVCutOYrXeFEuWyyWEEAVd10EpBa0198QQAis8qn47edmTJkC7BOMTeedgtN76FSKEJ2gXYe3WQ+c8nNv66L0HEVHO+V+Fv5+87CnjYX2C84lsTOiUghSiEOeUACKUoIxoJaRShZxJmJC95DR5n9CHRDoSBG9RSihW6hx4J9yVU4CVS0ileVQ455BS2k3oQiZvVfHPGFtG4iZWwhFTQidWRR3/4xxjvIPQJ2I13MgPGOnWN+PdmCXzv5zzHSP7RDImCK2Lh7zNG3XFKYpIrkMnJLx3tzyk3QpdzpBaFzL2ic9hq453EuHNuhDy1m+2THQHYaZclsF3xg03CjlCDljJBbpNV7xl8HH/18jEN+h8yj7brI3KWptsrS1wzmXvfc58csW+nFNKBRxEFHIhnD6uToanB8ZF+EgIcXtvBML/ifbyclD98OMvn1wt19fLVXe9XG2WQsjr3RC7cCWE8E1z/ln18f379w4PH+31+wf7/f7B3sNef38XejvwsNff6x8c7j948OkHbwGtOL2K4u5uegAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"f7e96e2bf70ae38b\"\n        title=\"f7e96e2bf70ae38b\"\n        src=\"/static/9e26acafef8375af74e59b7540484fe9/1d69c/f7e96e2bf70ae38b.png\"\n        srcset=\"/static/9e26acafef8375af74e59b7540484fe9/4dcb9/f7e96e2bf70ae38b.png 188w,\n/static/9e26acafef8375af74e59b7540484fe9/5ff7e/f7e96e2bf70ae38b.png 375w,\n/static/9e26acafef8375af74e59b7540484fe9/1d69c/f7e96e2bf70ae38b.png 750w,\n/static/9e26acafef8375af74e59b7540484fe9/78797/f7e96e2bf70ae38b.png 1125w,\n/static/9e26acafef8375af74e59b7540484fe9/aa440/f7e96e2bf70ae38b.png 1500w,\n/static/9e26acafef8375af74e59b7540484fe9/3b2f8/f7e96e2bf70ae38b.png 2790w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 class=\"heading subtitle heading\" id=\"什么是-story\" style=\"position:relative;\"><a href=\"#%E4%BB%80%E4%B9%88%E6%98%AF-story\" aria-label=\"什么是 story permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>什么是 story</h2>\n<p class=\"para\">在Storybook中，一个story包含了一个组件渲染时的状态。开发者可以给一个组件写多个story。可以简单的将一个story理解成一个包含了组件特定状态的demo。可以在案例中看到，默认会展示Button，Header和Page三个例子。</p>\n<p class=\"para\">在代码层面来看，一个.stories.js就是一个story。这个文件包含了渲染时的状态。最终也会在web中以一个单独的案例呈现。</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// Button.stories.js\n\nimport Button from &#39;./Button.vue&#39;;\n\nexport default {\n  /* 👇 The title prop is optional.\n  * See https://storybook.js.org/docs/vue/configure/overview#configure-story-loading\n  * to learn how to generate automatic titles\n  */\n  title: &#39;Button&#39;,\n  component: Button,\n};\n\nexport const Primary = () =&gt; ({\n  components: { Button },\n  template: &#39;&lt;Button primary label=&quot;Button&quot; /&gt;&#39;,\n});</code>\n        </deckgo-highlight-code>\n<p class=\"para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8710faece836fb92009de1a643488c28/c8252/649ccbc1c9da3c58.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.06382978723406%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACe0lEQVQ4y6WSTU8TURSGrzHGr9m4IZHWECQSpMGFxJUr/5F7VxPjXyAxstDACmmBf6BLSRTaYiP0Y9qZEi3S6cydz96Pec2dsUADGBLf5E3uOcl57jnnXvLi1vPr5e3PL/ca1Tdto63XajW9Winr+wd13ep2dcuy9FbL0BvNpm5ZWVyv1/VKpaJXKlW9Wq3qrVbr9c7O7qulpaV7ZGF+8e5hbb9vtA30jvroD1z0+i58z0Pg+/D9AC6lcBwX1PMQhiF834frunBdCsfN8r3eEd5/WCmQqdkZbdD3jIETwHYDxrkUmx2I1QYEcCVzAAnngq6XNgtkfm5Os/vHHY964IzLhPPE9GRy4CSpkJxKFV4gCQDD4dBf+1gskPuzT7Tlb7a5Wrax8oPJYlNdqmrT6qs4OQGulwrk8cwjbe+nZ34/dNC0mey4AlwmkMkpMIPjnC4EPl18pvWO+iZ1KaSQkjN+tmSs00u6zoCMZcCp6Yfab5uaQcwRxkKGMYcQAlxIBCwBEzItlFKm+cwyjZVH642iKANOTk5qDg3MmEmEMZfRUCCKQvhDgV9BgoAn4JyBc37pDoVMQIPIL5VKBZLL57WB648BHceBbdtgwzgdM47j1AqqTCmF53mjWH0Z+GHkF0sbBZLL5TWHjgODIABj7OQh1CdWFyjAaPTRyFLKdOSTR8nlcqpDIwXFnIUxE2EYCSUppVATRVEkwjBM41H+jPnfHdK19dI8yecfaF4QH4sEYALgEml3ZzXq5l9SYxc3thbIxMTEnYOGsWV0uruttvml1Ta3Las7ZtO0MquzZZ2z1e1+bbc7n96+W54mhJBrhJAbhJDb/+mbivUH5afj0V5EUs8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"649ccbc1c9da3c58\"\n        title=\"649ccbc1c9da3c58\"\n        src=\"/static/8710faece836fb92009de1a643488c28/1d69c/649ccbc1c9da3c58.png\"\n        srcset=\"/static/8710faece836fb92009de1a643488c28/4dcb9/649ccbc1c9da3c58.png 188w,\n/static/8710faece836fb92009de1a643488c28/5ff7e/649ccbc1c9da3c58.png 375w,\n/static/8710faece836fb92009de1a643488c28/1d69c/649ccbc1c9da3c58.png 750w,\n/static/8710faece836fb92009de1a643488c28/78797/649ccbc1c9da3c58.png 1125w,\n/static/8710faece836fb92009de1a643488c28/aa440/649ccbc1c9da3c58.png 1500w,\n/static/8710faece836fb92009de1a643488c28/c8252/649ccbc1c9da3c58.png 2178w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p class=\"para\">在我们的实际场景中，主要工作就是为每个组件编写story，以展示每个组件的不同能力</p>\n<h2 class=\"heading subtitle heading\" id=\"怎么写-Story\" style=\"position:relative;\"><a href=\"#%E6%80%8E%E4%B9%88%E5%86%99-Story\" aria-label=\"怎么写 Story permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>怎么写 Story?</h2>\n<p class=\"para\">组件的sotries是独立定义在组件文件之外的story文件。服务于开发环境，不会打包到项目中。</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">Button.js | ts | jsx | tsx\nButton.stories.js | ts | jsx | tsx | mdx</code>\n        </deckgo-highlight-code>\n<p class=\"para\">在storybook中过，定义了一个称为 Component Story Format(CSF)的规范。一个基于ES6 模块的标准，方便书写，并且可以在不同工具间移植。在CSF中，关键部分是用于描述组件的默认导出和描述组件stories的具名导出。</p>\n<h3 class=\"heading\" id=\"两种导出方式\" style=\"position:relative;\"><a href=\"#%E4%B8%A4%E7%A7%8D%E5%AF%BC%E5%87%BA%E6%96%B9%E5%BC%8F\" aria-label=\"两种导出方式 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>两种导出方式</h3>\n<p class=\"para\"><strong>默认导出 Default export</strong></p>\n<p class=\"para\">默认导出的信息决定Storybook如何排列你的stories和addon使用的信息。例如，下面是一个Button.stories.js 的默认导出</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// Button.stories.js\n\nimport Button from &#39;./Button.vue&#39;;\n\nexport default {\n  /* 👇 The title prop is optional.\n  * See https://storybook.js.org/docs/vue/configure/overview#configure-story-loading\n  * to learn how to generate automatic titles\n  */\n  title: &#39;Button&#39;,\n  component: Button,\n};</code>\n        </deckgo-highlight-code>\n<p class=\"para\"><strong>具名导出 Defining Story</strong></p>\n<p class=\"para\">具名导出一个单独的story。下面是导出一个叫做 Primary 的 story</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// Button.stories.js\n\nimport Button from &#39;./Button.vue&#39;;\n\nexport default {\n  /* 👇 The title prop is optional.\n  * See https://storybook.js.org/docs/vue/configure/overview#configure-story-loading\n  * to learn how to generate automatic titles\n  */\n  title: &#39;Button&#39;,\n  component: Button,\n};\n\nexport const Primary = () =&gt; ({\n  components: { Button },\n  template: &#39;&lt;Button primary label=&quot;Button&quot; /&gt;&#39;,\n});</code>\n        </deckgo-highlight-code>\n<p class=\"para\">也可以通过 storyName 对 story 的名字进行修改</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// Button.stories.js\n\nimport Button from &#39;./Button.vue&#39;;\n\nexport default {\n  /* 👇 The title prop is optional.\n  * See https://storybook.js.org/docs/vue/configure/overview#configure-story-loading\n  * to learn how to generate automatic titles\n  */\n  title: &#39;Button&#39;,\n  component: Button,\n};\n\nexport const Primary = () =&gt; ({\n  components: { Button },\n  template: &#39;&lt;Button primary label=&quot;Button&quot; /&gt;&#39;,\n});\nPrimary.storyName = &#39;I am the primary&#39;;</code>\n        </deckgo-highlight-code>\n<h3 class=\"heading\" id=\"通过Args对象定义Story\" style=\"position:relative;\"><a href=\"#%E9%80%9A%E8%BF%87Args%E5%AF%B9%E8%B1%A1%E5%AE%9A%E4%B9%89Story\" aria-label=\"通过Args对象定义Story permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>通过Args对象定义Story</h3>\n<p class=\"para\">所谓的一个story，是一个带有一组参数的组件，这些参数定义了组件应该如何渲染。在Storybook中，通过Args定义参数。Args是一个JavaScript对象，它可以用来动态地修改props，slot，样式、输入等。允许Storybook和插件实时编辑组件。</p>\n<p class=\"para\">Args用法很简单，可以通过story实例的<code>args</code>设置为Story级别的参数，也绑定在默认导出对象上作为Component级别的参数。</p>\n<p class=\"para\"><strong>Story 级别的Args只对绑定的story生效</strong></p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// Button.stories.js\n\nimport Button from &#39;./Button.vue&#39;;\n\nexport default {\n  /* 👇 The title prop is optional.\n  * See https://storybook.js.org/docs/vue/configure/overview#configure-story-loading\n  * to learn how to generate automatic titles\n  */\n  title: &#39;Button&#39;,\n  component: Button,\n};\n\n// 👇 We create a “template” of how args map to rendering\nconst Template = (args, { argTypes }) =&gt; ({\n  props: Object.keys(argTypes),\n  components: { Button },\n});\n\n//👇 Each story then reuses that template\nexport const Primary = Template.bind({});\n\nPrimary.args = {\n  primary: true,\n  label: &#39;Button&#39;,\n};</code>\n        </deckgo-highlight-code>\n<p class=\"para\"><strong>Component 级别的Args，对组件下所有的Story生效。</strong></p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// Button.stories.js\n\nimport Button from &#39;./Button.vue&#39;;\n\nexport default {\n  /* 👇 The title prop is optional.\n  * See https://storybook.js.org/docs/vue/configure/overview#configure-story-loading\n  * to learn how to generate automatic titles\n  */\n  title: &#39;Button&#39;,\n  component: Button,\n  //👇 Creates specific argTypes\n  argTypes: {\n    backgroundColor: { control: &#39;color&#39; },\n  },\n  args: {\n    //👇 Now all Button stories will be primary.\n    primary: true,\n  },\n};</code>\n        </deckgo-highlight-code>\n<h3 class=\"heading\" id=\"使用Parameters控制Story\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8Parameters%E6%8E%A7%E5%88%B6Story\" aria-label=\"使用Parameters控制Story permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用Parameters控制Story</h3>\n<p class=\"para\">parameters是与story有关的一组静态具名元数据，通常用来控制Storybook的功能和addon的行为。</p>\n<p class=\"para\">和Args的使用方式类似，不过除了 Story 级别的 Parameters 和 Component 级别的 Parameters之外，可以在<code>.storybook/preview.js</code> 中定义 Global Parameter，作用于所有的story。</p>\n<p class=\"para\"><strong>Story 级别的 Parameters</strong></p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// Button.stories.js|ts|jsx|tsx\n\nimport { Button } from &#39;./Button&#39;;\n\nexport default {\n  /* 👇 The title prop is optional.\n  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading\n  * to learn how to generate automatic titles\n  */\n  title: &#39;Button&#39;,\n  component: Button,\n};\n\nconst Template = (args) =&gt; ({\n  // 👈 Your template goes here\n});\n\nexport const Primary = Template.bind({});\nPrimary.args = {\n  primary: true,\n  label: &#39;Button&#39;,\n};\nPrimary.parameters = {\n  backgrounds: {\n    values: [\n      { name: &#39;red&#39;, value: &#39;#f00&#39; },\n      { name: &#39;green&#39;, value: &#39;#0f0&#39; },\n      { name: &#39;blue&#39;, value: &#39;#00f&#39; },\n    ],\n  },\n};</code>\n        </deckgo-highlight-code>\n<p class=\"para\"><strong>Component 级别的 Parameters</strong></p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// Button.stories.js\n\nimport Button from &#39;./Button.vue&#39;;\n\nexport default {\n  /* 👇 The title prop is optional.\n  * See https://storybook.js.org/docs/vue/configure/overview#configure-story-loading\n  * to learn how to generate automatic titles\n  */\n  title: &#39;Button&#39;,\n  component: Button,\n  //👇 Creates specific parameters for the story\n  parameters: {\n    backgrounds: {\n      values: [\n        { name: &#39;red&#39;, value: &#39;#f00&#39; },\n        { name: &#39;green&#39;, value: &#39;#0f0&#39; },\n        { name: &#39;blue&#39;, value: &#39;#00f&#39; },\n      ],\n    },\n  },\n};</code>\n        </deckgo-highlight-code>\n<p class=\"para\"><strong>Global parameters</strong></p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// .storybook/preview.js\n\nexport const parameters = {\n  backgrounds: {\n    values: [\n      { name: &#39;red&#39;, value: &#39;#f00&#39; },\n      { name: &#39;green&#39;, value: &#39;#0f0&#39; },\n    ],\n  },\n};</code>\n        </deckgo-highlight-code>\n<blockquote class=\"quote\">\n<p class=\"para\">三种级别的Parameters优先级顺序依次是 Story Parameters > Component Parameters > Global Parameter。Parameters 只会合并，相同的键值会按照优先级覆盖，不会丢弃。</p>\n</blockquote>\n<h3 class=\"heading\" id=\"添加Decorators-包装-Story\" style=\"position:relative;\"><a href=\"#%E6%B7%BB%E5%8A%A0Decorators-%E5%8C%85%E8%A3%85-Story\" aria-label=\"添加Decorators 包装 Story permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>添加Decorators 包装 Story</h3>\n<p class=\"para\">所谓Decorators，可以在保持原有的 story 不变的情况下，额外给它添加额外的 DOM 元素、引入上下文环境、添加假数据等等。</p>\n<p class=\"para\">和 Parameters 一样，它也可以定义在全局/组件/story 三个层级，每个 Decorator 按定义顺序依次执行，从全局到 story。</p>\n<p class=\"para\">利用 Decorators，我们可以用额外的DOM包装Story的渲染结果，</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// YourComponent.stories.js\n\nimport YourComponent from &#39;./YourComponent.vue&#39;;\n\nexport default {\n  /* 👇 The title prop is optional.\n  * See https://storybook.js.org/docs/vue/configure/overview#configure-story-loading\n  * to learn how to generate automatic titles\n  */\n  title: &#39;YourComponent&#39;,\n  component: YourComponent,\n  decorators: [() =&gt; ({ template: &#39;&lt;div style=&quot;margin: 3em;&quot;&gt;&lt;story/&gt;&lt;/div&gt;&#39; })],\n};</code>\n        </deckgo-highlight-code>\n<p class=\"para\">也可以提供一个独立的Context，将参数或者数据传给Story。</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// .storybook/preview.js\n\nimport Vue from &#39;vue&#39;;\n\nimport { library } from &#39;@fortawesome/fontawesome-svg-core&#39;;\nimport { faPlusSquare as fasPlusSquare } from &#39;@fortawesome/free-solid-svg-icons&#39;;\nimport { FontAwesomeIcon } from &#39;@fortawesome/vue-fontawesome&#39;;\n\nlibrary.add(fasPlusSquare);\n\n//👇 Storybook Vue app being extended and registering the component\nVue.component(&#39;font-awesome-icon&#39;, FontAwesomeIcon);\n\nexport const decorators = [\n  (story, { args, argTypes, globals, hooks, parameters. viewMode }) =&gt; ({\n    components: { story },\n    template: &#39;&lt;div style=&quot;margin: 3em;&quot;&gt;&lt;story /&gt;&lt;/div&gt;&#39;,\n  }),\n];</code>\n        </deckgo-highlight-code>\n<p class=\"para\">同样的，像 Parameters 一样，Decorator 可以在全局、组件级别和单个故事中定义。当Story渲染时，所有与Story相关的Decorator将按以下顺序运行。</p>\n<ul>\n<li>\n<p class=\"para\">Global Decorator ，按照它们定义的顺序</p>\n</li>\n<li>\n<p class=\"para\">Component Decorator，按照它们定义的顺序</p>\n</li>\n<li>\n<p class=\"para\">Story Decorator，按照它们定义的顺序</p>\n</li>\n</ul>\n<h3 class=\"heading\" id=\"调用Play-Function实现交互\" style=\"position:relative;\"><a href=\"#%E8%B0%83%E7%94%A8Play-Function%E5%AE%9E%E7%8E%B0%E4%BA%A4%E4%BA%92\" aria-label=\"调用Play Function实现交互 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>调用Play Function实现交互</h3>\n<p class=\"para\">Play function 在 Story 渲染完成后执行。可以实现与组件的交互，可用于测试需要交互的场景。它的的使用与前面提到的几个概念稍有不同，它的能力由几个插件组合提供，需要先安装好。</p>\n<deckgo-highlight-code language=\"bash\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\"># With npm\nnpm install @storybook/addon-interactions @storybook/testing-library --save-dev\n\n# With yarn\nyarn add --dev @storybook/addon-interactions @storybook/testing-library</code>\n        </deckgo-highlight-code>\n<p class=\"para\">然后补充一些配置</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// .storybook/main.js\n\nmodule.exports = {\n  stories:[],\n  addons:[\n    // Other Storybook addons\n    &#39;@storybook/addon-interactions&#39;, //👈 The addon registered here\n};</code>\n        </deckgo-highlight-code>\n<p class=\"para\">下面是一个简单的例子，首先引入依赖，然后为Story添加Play方法</p>\n<deckgo-highlight-code language=\"javascript\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">// RegistrationForm.stories.js\n\nimport { screen, userEvent } from &#39;@storybook/testing-library&#39;;\n\nimport RegistrationForm from &#39;./RegistrationForm.vue&#39;;\n\nexport default {\n  /* 👇 The title prop is optional.\n  * See https://storybook.js.org/docs/vue/configure/overview#configure-story-loading\n  * to learn how to generate automatic titles\n  */\n  title: &#39;RegistrationForm&#39;,\n  component: RegistrationForm,\n};\n\nconst Template = (args) =&gt; ({\n  components: { RegistrationForm },\n  template: &#39;&lt;RegistrationForm /&gt;&#39;,\n});\n\nexport const FilledForm = Template.bind({});\nFilledForm.play = async () =&gt; {\n  const emailInput = screen.getByLabelText(&#39;email&#39;, {\n      selector: &#39;input&#39;,\n    });\n\n    await userEvent.type(emailInput, &#39;example-email@email.com&#39;, {\n      delay: 100,\n    });\n    \n    const passwordInput = screen.getByLabelText(&#39;password&#39;, {\n      selector: &#39;input&#39;,\n    });\n\n    await userEvent.type(passwordInput, &#39;ExamplePassword&#39;, {\n      delay: 100,\n    });\n    \n    // See https://storybook.js.org/docs/vue/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel\n    const Submit = screen.getByRole(&#39;button&#39;);\n    await userEvent.click(Submit);\n};</code>\n        </deckgo-highlight-code>\n<p class=\"para\">当 story 渲染完成后，play方法会自动执行。可以在Interactions面板中一步步查看流程。更多细节可以查看<a href=\"https://storybook.js.org/docs/vue/writing-stories/play-function\" class=\"link-underline\"><strong>官方的详细介绍</strong></a>。</p>\n<h2 class=\"heading subtitle heading\" id=\"结束语\" style=\"position:relative;\"><a href=\"#%E7%BB%93%E6%9D%9F%E8%AF%AD\" aria-label=\"结束语 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>结束语</h2>\n<p class=\"para\">以上是Storybook的一些基本概念，按照文档走一遍，搭建出自己的组件库文档是没问题的。接下来会介绍如何更好地命名和组织组件的层级结构。</p>\n<h2 class=\"heading subtitle heading\" id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li>\n<p class=\"para\"><a href=\"https://storybook.js.org/tutorials/design-systems-for-developers/react/zh-CN/introduction/\" class=\"link-underline\">Storybook 设计系统简介</a></p>\n</li>\n<li>\n<p class=\"para\"><a href=\"https://storybook.js.org/tutorials/\" class=\"link-underline\">Storybook 教程系列</a></p>\n</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E4%BB%80%E4%B9%88%E6%98%AFstorybook\">什么是Storybook</a></p>\n</li>\n<li>\n<p><a href=\"#%E4%BB%80%E4%B9%88%E6%98%AF-story\">什么是 story</a></p>\n</li>\n<li>\n<p><a href=\"#%E6%80%8E%E4%B9%88%E5%86%99-story\">怎么写 Story?</a></p>\n<ul>\n<li><a href=\"#%E4%B8%A4%E7%A7%8D%E5%AF%BC%E5%87%BA%E6%96%B9%E5%BC%8F\">两种导出方式</a></li>\n<li><a href=\"#%E9%80%9A%E8%BF%87args%E5%AF%B9%E8%B1%A1%E5%AE%9A%E4%B9%89story\">通过Args对象定义Story</a></li>\n<li><a href=\"#%E4%BD%BF%E7%94%A8parameters%E6%8E%A7%E5%88%B6story\">使用Parameters控制Story</a></li>\n<li><a href=\"#%E6%B7%BB%E5%8A%A0decorators-%E5%8C%85%E8%A3%85-story\">添加Decorators 包装 Story</a></li>\n<li><a href=\"#%E8%B0%83%E7%94%A8play-function%E5%AE%9E%E7%8E%B0%E4%BA%A4%E4%BA%92\">调用Play Function实现交互</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E7%BB%93%E6%9D%9F%E8%AF%AD\">结束语</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%8F%82%E8%80%83\">参考</a></p>\n</li>\n</ul>","headings":[{"id":"什么是Storybook","depth":2,"value":"什么是Storybook"},{"id":"什么是-story","depth":2,"value":"什么是 story"},{"id":"怎么写-Story","depth":2,"value":"怎么写 Story?"},{"id":"两种导出方式","depth":3,"value":"两种导出方式"},{"id":"通过Args对象定义Story","depth":3,"value":"通过Args对象定义Story"},{"id":"使用Parameters控制Story","depth":3,"value":"使用Parameters控制Story"},{"id":"添加Decorators-包装-Story","depth":3,"value":"添加Decorators 包装 Story"},{"id":"调用Play-Function实现交互","depth":3,"value":"调用Play Function实现交互"},{"id":"结束语","depth":2,"value":"结束语"},{"id":"参考","depth":2,"value":"参考"}],"frontmatter":{"title":"Storybook 使用手册——基本概念","date":"2022-03-16","cover":"https://images.unsplash.com/photo-1605418524574-0159244a11be?ixlib=rb-1.2.1&q=85&fm=jpg&crop=entropy&cs=srgb","description":null,"categories":["技术研究"],"tags":["CSS","Storybook","JavaScrtipt"]}},"previous":{"fields":{"slug":"/blogs/Node.js 将要内置测试模块/"},"frontmatter":{"title":"Node.js 将要内置测试模块"}},"next":{"fields":{"slug":"/blogs/《架构师修炼之道》摘录13-鼓励团队参与架构设计/"},"frontmatter":{"title":"《架构师修炼之道》摘录13-鼓励团队参与架构设计","tags":["笔记","架构"],"categories":["解决方案"],"status":"publish"}}},"pageContext":{"id":"ff9caad0-e896-5bf4-8b65-3ebb8e5aeb59","previousPostId":"45620d32-c613-5c21-bdda-19d5d290d233","nextPostId":"01675b4a-0c91-5fba-b3c4-afc9a74561d4"}},
    "staticQueryHashes": ["2841359383"]}