{"version":3,"file":"component---src-templates-blog-post-tsx-0fc1c644d51a3ff081f8.js","mappings":"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","sources":["webpack://zhanglun.github.io/./src/components/CircleArrow/index.tsx","webpack://zhanglun.github.io/./src/components/CircleArrow/index.module.css","webpack://zhanglun.github.io/./src/components/ListPagination/index.module.css","webpack://zhanglun.github.io/./src/components/ListPagination/index.tsx","webpack://zhanglun.github.io/./src/components/CleanLayout.js","webpack://zhanglun.github.io/./src/templates/blog-post.tsx"],"sourcesContent":["/* eslint-disable react/require-default-props */\nimport React from 'react';\nimport * as styles from './index.module.css';\n\nexport enum CircleArrowThemeEnum {\n  'dark'='dark',\n  'light'='light'\n}\nexport interface CircleArrowProps {\n  size?: number,\n  rotate?: number,\n  theme?: CircleArrowThemeEnum,\n}\n\nexport function CircleArrow(props: CircleArrowProps) {\n  const { size = 24, rotate = 0, theme = 'dark' } = props;\n\n  const style = {\n    transform: `rotate(${rotate}deg)`,\n    width: `${size}px`,\n    height: `${size}px`,\n  };\n\n  return (\n    <div className={`${styles.circle} ${styles[theme]}`}>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n        width=\"24\"\n        height=\"24\"\n        fill=\"none\"\n        style={style}\n      >\n        <path stroke=\"currentColor\" strokeWidth=\"1.4\" d=\"M12 3v17M19 13l-7 7-7-7\" />\n      </svg>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport var circle = \"index-module--circle--E91Mj\";\nexport var dark = \"index-module--dark--aAIf4\";\nexport var light = \"index-module--light--x7OKG\";","// extracted by mini-css-extract-plugin\nexport var pagination = \"index-module--pagination--iWu7S\";\nexport var paginationItem = \"index-module--paginationItem--ZgXus\";\nexport var paginationItemNext = \"index-module--paginationItemNext--nbZSQ\";\nexport var paginationItemPrev = \"index-module--paginationItemPrev--WtmXw\";","import { Link } from 'gatsby';\nimport React, { useState } from 'react';\nimport { CircleArrow, CircleArrowThemeEnum } from '../CircleArrow';\nimport * as styles from './index.module.css';\n\nexport interface ListPaginationProps {\n  prevPage?: string,\n  prevPageTitle?: string,\n  nextPage?: string,\n  nextPageTitle?: string,\n}\nexport function ListPagination(props: ListPaginationProps) {\n  const {\n    prevPage = '',\n    prevPageTitle = 'Previous Page',\n    nextPage = '',\n    nextPageTitle = 'Next Page',\n  } = props;\n\n  const [prevTheme, setPrevTheme] = useState(CircleArrowThemeEnum.light);\n  const [nextTheme, setNextTheme] = useState(CircleArrowThemeEnum.light);\n\n  const renderPrevItem = () => {\n    if (prevPage) {\n      return (\n        <Link\n          className={styles.paginationItem}\n          to={prevPage}\n          rel=\"prev\"\n          onMouseOver={() => setPrevTheme(CircleArrowThemeEnum.dark)}\n          onMouseOut={() => setPrevTheme(CircleArrowThemeEnum.light)}\n        >\n          <CircleArrow size={14} rotate={90} theme={prevTheme} />\n          {' '}\n          <span className={styles.paginationItemPrev}>{prevPageTitle}</span>\n        </Link>\n      );\n    }\n    return null;\n  };\n\n  const renderNextItem = () => {\n    if (nextPage) {\n      return (\n        <Link\n          className={styles.paginationItem}\n          to={nextPage}\n          rel=\"next\"\n          onMouseOver={() => setNextTheme(CircleArrowThemeEnum.dark)}\n          onMouseOut={() => setNextTheme(CircleArrowThemeEnum.light)}\n        >\n          <span className={styles.paginationItemNext}>{nextPageTitle}</span>\n          {' '}\n          <CircleArrow size={14} rotate={-90} theme={nextTheme} />\n        </Link>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className={styles.pagination}>\n      {renderPrevItem()}\n      <span />\n      {renderNextItem()}\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { SideMenu } from './SideMenu';\n\nfunction Layout({\n  location, children, title, menu, description,\n}) {\n  const rootPath = `${__PATH_PREFIX__}/`;\n  const isRootPath = location.pathname === rootPath;\n\n  return (\n    <div className=\"global-wrapper\" data-is-root-path={isRootPath}>\n      <SideMenu\n        title={title}\n        menu={menu}\n      />\n      <section>{children}</section>\n    </div>\n  );\n}\n\nexport default Layout;\n","import React, { useEffect, useRef } from 'react';\nimport { Link, graphql, PageProps } from 'gatsby';\n\nimport Layout from '../components/CleanLayout';\nimport Seo from '../components/seo';\nimport { ListPagination } from '../components/ListPagination';\n\ntype DataType = {\n  site: {\n    siteMetadata: {\n      title: string;\n      menu?: any[];\n      description?: string;\n    };\n  };\n  allMarkdownRemark: {\n    nodes: any[];\n  };\n  previous?: any;\n  next?: any;\n  markdownRemark: any;\n};\n\nfunction BlogPostTemplate({ data, location }: PageProps<DataType>) {\n  const post = data.markdownRemark;\n  const siteTitle = data.site.siteMetadata?.title || 'Title';\n  const siteMenu = data.site.siteMetadata?.menu || [];\n  const description = data.site.siteMetadata?.description || '';\n  const { previous, next } = data;\n  const anchors = useRef<HTMLElement[]>(null);\n\n  useEffect(() => {\n    const headings = document.querySelectorAll('.heading');\n\n    if (!headings) {\n      return false;\n    }\n\n    anchors.current = headings;\n\n    const scrollHandler = (entries: any[]) => entries.forEach((entry) => {\n      const section = entry.target;\n      const sectionId = section.id;\n      const sectionLink = document.querySelector(`a[href=\"#${sectionId}\"]`);\n\n      if (entry.isIntersecting) {\n        section.classList.add('visible');\n        sectionLink?.classList.add('visible');\n      } else {\n        section.classList.remove('visible');\n        sectionLink?.classList.remove('visible');\n      }\n    });\n\n    // Creates a new scroll observer\n    let observer = new IntersectionObserver(scrollHandler, {\n      threshold: 0.5,\n    });\n\n    if (anchors.current) {\n      anchors.current.forEach((anchor: any) => observer.observe(anchor));\n    }\n\n    return () => {\n      observer = null;\n    };\n  }, []);\n\n  return (\n    <Layout\n      location={location}\n      title={siteTitle}\n      menu={siteMenu}\n      description={description}\n    >\n      <Seo\n        title={post.frontmatter.title}\n        description={post.frontmatter.description || post.excerpt}\n      />\n      <section className=\"article-section\">\n        <aside className=\"article-aside\">\n          <div className=\"article-aside__item\">\n            <div className=\"aside-item__title\">Published</div>\n            <div className=\"aside-item__content\">\n              <time>{post.frontmatter.date}</time>\n            </div>\n          </div>\n          {post.frontmatter.categories.length > 0 && (\n            <div className=\"article-aside__item\">\n              <div className=\"aside-item__title\">Category</div>\n              <div className=\"aside-item__content\">\n                {post.frontmatter.categories.map((category) => (\n                  <Link\n                    className=\"category-item\"\n                    to={`/categories/${category}`}\n                    key={category}\n                  >\n                    {category}\n                  </Link>\n                ))}\n              </div>\n            </div>\n          )}\n          {post.frontmatter.tags.length > 0 && (\n            <div className=\"article-aside__item\">\n              <div className=\"aside-item__title\">Tags</div>\n              <div className=\"aside-item__content\">\n                {post.frontmatter.tags.map((tag: string) => (\n                  <div className=\"tag-item\" key={tag}>\n                    {tag}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n          {post.tableOfContents && (\n            <div className=\"article-aside__item\">\n              <div className=\"aside-item__title\">Content</div>\n              <div className=\"aside-item__content\">\n                <div className=\"aside-toc\">\n                  {post.headings.map((heading: any) => (\n                    <a\n                      key={heading.id}\n                      href={`#${decodeURIComponent(heading.id)}`}\n                    >\n                      {heading.value}\n                    </a>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n        </aside>\n        <article\n          className=\"blog-post\"\n          itemScope\n          itemType=\"http://schema.org/Article\"\n        >\n          <header>\n            <h1 itemProp=\"headline\">{post.frontmatter.title}</h1>\n          </header>\n          {post.frontmatter.cover && (\n            <img\n              className=\"article-cover\"\n              alt={post.frontmatter.cover}\n              src={post.frontmatter.cover}\n            />\n          )}\n          <section\n            // eslint-disable-next-line react/no-danger\n            dangerouslySetInnerHTML={{ __html: post.html }}\n            itemProp=\"articleBody\"\n            className=\"content\"\n          />\n        </article>\n        <div className=\"pagination\">\n          <ListPagination\n            prevPage={previous ? previous.fields.slug : null}\n            prevPageTitle={previous ? previous.frontmatter.title : null}\n            nextPage={next ? next.fields.slug : ''}\n            nextPageTitle={next ? next.frontmatter.title : ''}\n          />\n        </div>\n      </section>\n    </Layout>\n  );\n}\n\nexport default BlogPostTemplate;\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug(\n    $id: String!\n    $previousPostId: String\n    $nextPostId: String\n  ) {\n    site {\n      siteMetadata {\n        title\n        description\n        menu {\n          id\n          name\n          url\n        }\n      }\n    }\n    markdownRemark(id: { eq: $id }) {\n      id\n      html\n      tableOfContents\n      headings {\n        id\n        depth\n        value\n      }\n      frontmatter {\n        title\n        date(formatString: \"YYYY-MM-DD\")\n        cover\n        description\n        categories\n        tags\n      }\n    }\n    previous: markdownRemark(id: { eq: $previousPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n      }\n    }\n    next: markdownRemark(id: { eq: $nextPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n        tags\n        categories\n        status\n      }\n    }\n  }\n`;\n"],"names":["CircleArrowThemeEnum","circle","dark","light","CircleArrow","props","size","rotate","theme","style","transform","width","height","React","className","styles","xmlns","viewBox","fill","stroke","strokeWidth","d","paginationItem","ListPagination","prevPage","prevPageTitle","nextPage","nextPageTitle","useState","prevTheme","setPrevTheme","nextTheme","setNextTheme","Link","to","rel","onMouseOver","onMouseOut","location","children","title","menu","isRootPath","description","pathname","SideMenu","data","post","markdownRemark","siteTitle","site","siteMetadata","siteMenu","previous","next","anchors","useRef","useEffect","headings","document","querySelectorAll","current","observer","IntersectionObserver","entries","forEach","entry","section","target","sectionId","id","sectionLink","querySelector","isIntersecting","classList","add","remove","threshold","anchor","observe","Layout","Seo","frontmatter","excerpt","date","categories","length","map","category","key","tags","tag","tableOfContents","heading","href","decodeURIComponent","value","itemScope","itemType","itemProp","cover","alt","src","dangerouslySetInnerHTML","__html","html","fields","slug"],"sourceRoot":""}